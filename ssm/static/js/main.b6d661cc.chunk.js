(this.webpackJsonpsimple_stage_manager=this.webpackJsonpsimple_stage_manager||[]).push([[0],{137:function(t,e,n){},138:function(t,e,n){},150:function(t,e){function n(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=150},162:function(t,e,n){},169:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),s=n(58),o=n.n(s),r=(n(137),n.p,n(138),n(124)),c=n(15),u=n(208),l=n(7),p=n(8),h=n(10),d=n(9),j=n(13),b=n(23),v=n(12),g=n(186);function f(){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}));return window.unusedUiIds.length>0&&(t=window.unusedUiIds.pop()),t}var O=Object(g.a)({colors:{gray:{200:"#111"}},radii:{none:"0",sm:"0",base:"0",md:"0",lg:"0",xl:"0","2xl":"0","3xl":"0",full:"9999px"},components:{Button:{variants:{outline:{borderLeft:0,borderRight:0,borderBottom:0,backgroundColor:"#FFF7"}}}}});var y={createPanel:function(t){var e=f(),n={type:"youtube",title:"New Youtube Effect",url:"",hidden:!0,key:e,deleted:!1,volume:1,timestamp:Date.now()};t.get("ui").get(e).put(n,console.log)},activateEffect:function(t,e){var n=t.get("ui").get(e.key);t.get("activefx").get("activefx"+e.key).put({type:"youtube",stopped:!1,startTime:Date.now(),key:e.key,uiRef:n,deleted:!1,title:e.title,url:e.url,hidden:e.hidden,volume:e.volume,timestamp:Date.now()})},stopEffect:function(t){t.get("stopped").put(!0),t.put(null)}},x=0,m=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(l.a)(this,n),(a=e.call(this,t)).gunBase=t.gun,a.state={gunData:{}},a._gunListener=null,a._unmounted=!1,a.sync=i,a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.sync&&this.gunBase.on((function(e,n,a,i){console.log(Date.now()+" gun sync "+x+++" "+JSON.stringify(e)),t._gunListener=i,t._unmounted?t._gunListener.off():t.setState(Object(j.a)(Object(j.a)({},t.state),{},{gunData:e}))}))}},{key:"componentWillUnmount",value:function(){var t;this.sync&&(this._unmounted=!0,null===(t=this._gunListener)||void 0===t||t.off())}}]),n}(i.a.Component),k=m,w=n(201),D=n(190),M=n(211),C=n(198),P=n(110),S=n(123),U=n(187),R=n(1),A=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t,void 0==t.sync||t.sync)).state.focusToggle=!1,a.inputRef=i.a.createRef(),a.state.inputCache="",a}return Object(p.a)(n,[{key:"currentlyFocused",value:function(){return document.activeElement===this.inputRef.current}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var t=this;if(null==this.state.gunData&&null==this.props.value)return null;var e=this.props.value;return null==e&&(e=this.state.gunData[this.props.gunProperty]),Object(R.jsx)(U.a,Object(j.a)(Object(j.a)({textOverflow:"ellipsis",ref:this.inputRef,onFocus:function(){return t.setState({focusToggle:!t.state.focusToggle})},onBlur:function(e){t.props.gun.get(t.props.gunProperty).put(e.target.value)}},this.props),{},{value:this.currentlyFocused()?null:e,onKeyUp:function(t){"Enter"===t.key&&t.target.blur()}}))}}]),n}(k),B=n(191),E=n(192),F=n(196),L=n(194),z=n(195);var _=function(t){return Object(R.jsxs)(D.a,Object(j.a)(Object(j.a)({position:"relative"},t),{},{shadow:"md",borderWidth:"1px",height:"100%",children:[null==t.onClose?null:Object(R.jsx)(B.a,{position:"absolute",top:"0",right:"0",onClick:t.onClose}),null==t.onMoveUp?null:Object(R.jsx)(E.a,{variant:"unstyled",position:"absolute",top:"0",right:"7",size:"sm",onClick:t.onMoveUp,icon:Object(R.jsx)(L.a,{})}),null==t.onMoveDown?null:Object(R.jsx)(E.a,{position:"absolute",top:"0",variant:"unstyled",size:"sm",right:"14",onClick:t.onMoveDown,icon:Object(R.jsx)(z.a,{})}),Object(R.jsx)(F.a,{p:2,as:"h5",size:"xs",children:t.heading}),t.children]}))},I=n(199),T=n(209),W=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t,void 0==t.sync||t.sync)).state.test=!1,a.inputRef=i.a.createRef(),a}return Object(p.a)(n,[{key:"render",value:function(){var t=this;if(null==this.state.gunData&&null==this.props.value)return null;var e=this.props.value;return null==e&&(e=this.state.gunData[this.props.gunProperty]),Object(R.jsxs)(M.a,{w:"100%",px:2,spacing:.5,children:[Object(R.jsx)(C.a,{w:"100%",children:this.props.title}),Object(R.jsx)(D.a,{align:"right",children:Object(R.jsx)(I.a,{children:Object(R.jsx)(T.a,{size:"lg",ref:this.inputRef,isChecked:e,onChange:function(e){t.props.gun.get(t.props.gunProperty).put(t.inputRef.current.checked)}})})})]})}}]),n}(k),N=n(206),H=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t,void 0==t.sync||t.sync)).state.test=!1,a.sliderRef=i.a.createRef(),a.throttledGunUpdate=Object(b.throttle)((function(t){a.props.gun.get(a.props.gunProperty).put(parseFloat(t))}),50),a}return Object(p.a)(n,[{key:"render",value:function(){var t=this;if(null==this.state.gunData&&null==this.props.value)return null;var e=this.props.value;return null==e&&(e=this.state.gunData[this.props.gunProperty]),Object(R.jsxs)(M.b,{px:2,w:"100%",children:[Object(R.jsx)(C.a,{w:"100%",children:this.props.title}),Object(R.jsxs)(N.a,{ref:this.sliderRef,min:0,max:1,step:.01,value:e,focusThumbOnChange:!1,onChange:function(e){t.sliderRef.current.value=e,t.throttledGunUpdate(e)},children:[Object(R.jsx)(N.d,{bg:"gray.500",children:Object(R.jsx)(N.b,{})}),Object(R.jsx)(N.c,{bg:"gray.400"})]})]})}}]),n}(k),Y=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={active:!1},a.play=a.play.bind(Object(v.a)(a)),a.deleteMe=a.deleteMe.bind(Object(v.a)(a)),a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.setState({active:window.currentActiveEffects[this.props.data.key]})}},{key:"play",value:function(){y.activateEffect(this.props.gunBase,this.props.data)}},{key:"deleteMe",value:function(){this.props.gun.put(null)}},{key:"render",value:function(){var t=this;return window.currentActivePanels[this.props.data.key]=null,this.props.data?(window.currentActivePanels[this.props.data.key]=this,Object(R.jsx)(w.b,{rowSpan:2,colSpan:1,children:Object(R.jsxs)(_,{onClose:this.deleteMe,bg:"blue.50",heading:"Youtube:",position:"relative",pb:"10",onMoveUp:this.props.onMoveUp,onMoveDown:this.props.onMoveDown,children:[Object(R.jsxs)(D.a,{px:3,pb:2,children:[Object(R.jsx)(A,{mb:3,size:"lg",fontSize:"1em",overflow:"wrap",placeholder:"Title",fontWeight:"bold",gun:this.props.gun,gunProperty:"title",sync:!1,value:this.props.data.title}),Object(R.jsxs)(M.b,{spacing:3.5,align:"stretch",children:[Object(R.jsxs)(D.a,{children:[Object(R.jsx)(C.a,{size:"xs",children:"Youtube URL"}),Object(R.jsx)(A,{title:"url",size:"xs",gun:this.props.gun,gunProperty:"url",sync:!1,value:this.props.data.url})]}),Object(R.jsx)(W,{title:"Hidden During Play",gun:this.props.gun,gunProperty:"hidden",sync:!1,value:this.props.data.hidden}),Object(R.jsx)(H,{title:"Starting Volume",gun:this.props.gun,gunProperty:"volume",sync:!1,value:this.props.data.volume})]})]}),Object(R.jsxs)(P.a,{position:"absolute",bottom:"0",variant:"outline",w:"100%",isAttached:"true",children:[Object(R.jsx)(S.a,{borderRadius:"0",onClick:this.play,width:"100%",children:"Activate"}),this.state.active?Object(R.jsx)(S.a,{borderRadius:"0",borderLeft:"1px",onClick:function(){y.stopEffect(t.props.gunBase.get("activefx").get("activefx"+t.props.data.key))},width:"100%",children:"Deactivate"}):null]})]})})):null}}]),n}(i.a.Component),V=n(4),G=0,J=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t))._gunCache={},a.extraState={},a._gunListener=null,a._unmounted=!1,a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.gunBase.map().on((function(e,n,a,i){console.log(Date.now()+" gun map sync "+G+++" "+n+" "+JSON.stringify(e)),t._gunListener=i,t._unmounted&&t._gunListener.off(),t._gunCache=Object(j.a)(Object(j.a)({},t._gunCache),{},Object(V.a)({},n,e)),t.setState(Object(j.a)(Object(j.a)({},t.state),{},{gunData:t._gunCache}))}))}},{key:"componentWillUnmount",value:function(){var t;this._unmounted=!0,null===(t=this._gunListener)||void 0===t||t.off()}}]),n}(k);var K={createPanel:function(t){var e=f(),n={type:"overlay",title:"New Overlay Effect",url:"",hidden:!1,clickthrough:!1,key:e,deleted:!1,timestamp:Date.now()};t.get("ui").get(e).put(n,console.log)},activateEffect:function(t,e){var n=t.get("ui").get(e.key);t.get("activefx").get("activefx"+e.key).put({type:"overlay",key:e.key,uiRef:n,deleted:!1,title:e.title,url:e.url,clickthrough:e.clickthrough,hidden:e.hidden,timestamp:Date.now()})},stopEffect:function(t){t.get("deleted").put(!0),t.put(null)}},X=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={active:!1},a.activate=a.activate.bind(Object(v.a)(a)),a.deleteMe=a.deleteMe.bind(Object(v.a)(a)),a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.setState({active:window.currentActiveEffects[this.props.data.key]})}},{key:"activate",value:function(){K.activateEffect(this.props.gunBase,this.props.data)}},{key:"deleteMe",value:function(){this.props.gun.put(null)}},{key:"render",value:function(){var t=this;return window.currentActivePanels[this.props.data.key]=null,this.props.data?(window.currentActivePanels[this.props.data.key]=this,Object(R.jsx)(w.b,{rowSpan:2,colSpan:1,children:Object(R.jsxs)(_,{onClose:this.deleteMe,bg:"red.50",heading:"URL Overlay:",position:"relative",pb:"10",onMoveUp:this.props.onMoveUp,onMoveDown:this.props.onMoveDown,children:[Object(R.jsxs)(D.a,{px:3,pb:2,children:[Object(R.jsx)(A,{mb:3,size:"lg",fontSize:"1em",overflow:"wrap",placeholder:"Title",fontWeight:"bold",gun:this.props.gun,gunProperty:"title",sync:!1,value:this.props.data.title}),Object(R.jsxs)(M.b,{spacing:3.5,align:"stretch",children:[Object(R.jsxs)(D.a,{children:[Object(R.jsx)(C.a,{size:"xs",children:"Overlay URL"}),Object(R.jsx)(A,{title:"url",size:"xs",gun:this.props.gun,gunProperty:"url",sync:!1,value:this.props.data.url})]}),Object(R.jsx)(W,{title:"Users can click through",gun:this.props.gun,gunProperty:"clickthrough",sync:!1,value:this.props.data.clickthrough}),Object(R.jsx)(W,{title:"Hidden while activated",gun:this.props.gun,gunProperty:"hidden",sync:!1,value:this.props.data.hidden})]})]}),Object(R.jsxs)(P.a,{position:"absolute",bottom:"0",variant:"outline",w:"100%",isAttached:"true",children:[Object(R.jsx)(S.a,{borderRadius:"0",onClick:this.activate,width:"100%",children:"Activate"}),this.state.active?Object(R.jsx)(S.a,{borderRadius:"0",borderLeft:"1px",onClick:function(){K.stopEffect(t.props.gunBase.get("activefx").get("activefx"+t.props.data.key))},width:"100%",children:"Deactivate"}):null]})]})})):null}}]),n}(i.a.Component);var q={createPanel:function(t){var e=f(),n={type:"fade",title:"New Fade Effect",key:e,deleted:!1,timestamp:Date.now()};t.get("ui").get(e).put(n,console.log)},activateEffect:function(t,e){t.get("ui").get(e.key),t.get("activefx").get("activefx"+e.key).put({type:"fade",key:e.key,deleted:!1,title:e.title,timestamp:Date.now()})},stopEffect:function(t){t.get("deleted").put(!0),t.put(null)}},Q=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={active:!1},a.activate=a.activate.bind(Object(v.a)(a)),a.deleteMe=a.deleteMe.bind(Object(v.a)(a)),a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.setState({active:window.currentActiveEffects[this.props.data.key]})}},{key:"activate",value:function(){q.activateEffect(this.props.gunBase,this.props.data)}},{key:"deleteMe",value:function(){this.props.gun.put(null)}},{key:"render",value:function(){var t=this;return window.currentActivePanels[this.props.data.key]=null,this.props.data?(window.currentActivePanels[this.props.data.key]=this,Object(R.jsxs)(_,{onClose:this.deleteMe,onMoveUp:this.props.onMoveUp,onMoveDown:this.props.onMoveDown,bg:"green.50",heading:"Fade Out:",position:"relative",children:[Object(R.jsx)(D.a,{px:3,pb:10,children:Object(R.jsx)(A,{mb:3,size:"lg",fontSize:"1em",placeholder:"Title",fontWeight:"bold",gun:this.props.gun,gunProperty:"title",sync:!1,value:this.props.data.title})}),Object(R.jsxs)(P.a,{position:"absolute",bottom:"0",variant:"outline",w:"100%",isAttached:"true",children:[Object(R.jsx)(S.a,{borderRadius:"0",onClick:this.activate,width:"100%",children:"Activate"}),this.state.active?Object(R.jsx)(S.a,{borderRadius:"0",borderLeft:"1px",onClick:function(){q.stopEffect(t.props.gunBase.get("activefx").get("activefx"+t.props.data.key))},width:"100%",children:"Deactivate"}):null]})]})):null}}]),n}(i.a.Component);var Z={createPanel:function(t){var e=f(),n={type:"shake",title:"New Shake Effect",key:e,deleted:!1,duration:3,strength:1,timestamp:Date.now()};t.get("ui").get(e).put(n,console.log)},activateEffect:function(t,e){t.get("activefx").get("activefx"+e.key).put({type:"shake",startTime:Date.now(),key:e.key,deleted:!1,title:e.title,duration:e.duration,strength:e.strength,timestamp:Date.now()})},stopEffect:function(t){t.get("deleted").put(!0),t.put(null)}},$=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t,void 0==t.sync||t.sync)).state.focusToggle=!1,a.inputRef=i.a.createRef(),a.state.inputCache="",a}return Object(p.a)(n,[{key:"currentlyFocused",value:function(){return document.activeElement===this.inputRef.current}},{key:"componentDidUpdate",value:function(){this.currentlyFocused()&&(this.inputRef.current.selectionStart=this.inputRef.current.selectionEnd=this.cursor)}},{key:"render",value:function(){var t=this;if(null==this.state.gunData&&null==this.props.value)return null;var e=this.props.value;return null==e&&(e=this.state.gunData[this.props.gunProperty]),Object(R.jsxs)(M.a,{w:"100%",px:2,spacing:.5,children:[Object(R.jsx)(C.a,{children:this.props.title}),Object(R.jsx)(U.a,{size:"xs",value:document.activeElement===this.inputRef.current?null:e,step:.2,ref:this.inputRef,textAlign:"right",onFocus:function(){return t.setState({focusToggle:!t.state.focusToggle})},onBlur:function(e){isNaN(parseFloat(e.target.value))||t.props.gun.get(t.props.gunProperty).put(parseFloat(e.target.value))},onKeyUp:function(t){"Enter"===t.key&&t.target.blur()}})]})}}]),n}(k),tt=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={active:!1},a.activate=a.activate.bind(Object(v.a)(a)),a.deleteMe=a.deleteMe.bind(Object(v.a)(a)),a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.setState({active:window.currentActiveEffects[this.props.data.key]})}},{key:"activate",value:function(){Z.activateEffect(this.props.gunBase,this.props.data)}},{key:"deleteMe",value:function(){this.props.gun.put(null)}},{key:"render",value:function(){var t=this;return window.currentActivePanels[this.props.data.key]=null,this.props.data?(window.currentActivePanels[this.props.data.key]=this,Object(R.jsx)(w.b,{rowSpan:2,colSpan:1,children:Object(R.jsxs)(_,{onClose:this.deleteMe,bg:"orange.50",heading:"Shake:",position:"relative",pb:"10",onMoveUp:this.props.onMoveUp,onMoveDown:this.props.onMoveDown,children:[Object(R.jsxs)(D.a,{px:3,pb:2,children:[Object(R.jsx)(A,{mb:3,size:"lg",fontSize:"1em",placeholder:"Title",fontWeight:"bold",gun:this.props.gun,gunProperty:"title",sync:!1,value:this.props.data.title}),Object(R.jsxs)(M.b,{spacing:5,align:"stretch",children:[Object(R.jsx)($,{title:"duration",gun:this.props.gun,gunProperty:"duration",sync:!1,value:this.props.data.duration}),Object(R.jsx)($,{title:"strength",gun:this.props.gun,gunProperty:"strength",sync:!1,value:this.props.data.strength})]})]}),Object(R.jsxs)(P.a,{position:"absolute",bottom:"0",variant:"outline",w:"100%",isAttached:"true",children:[Object(R.jsx)(S.a,{borderRadius:"0",onClick:this.activate,width:"100%",children:"Activate"}),this.state.active?Object(R.jsx)(S.a,{borderRadius:"0",borderLeft:"1px",onClick:function(){Z.stopEffect(t.props.gunBase.get("activefx").get("activefx"+t.props.data.key))},width:"100%",children:"Deactivate"}):null]})]})})):null}}]),n}(i.a.Component),et=n(202),nt=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t,void 0==t.sync||t.sync)).state.focusToggle=!1,a.inputRef=i.a.createRef(),a.state.inputCache="",a}return Object(p.a)(n,[{key:"currentlyFocused",value:function(){return document.activeElement===this.inputRef.current}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var t=this;if(null==this.state.gunData&&null==this.props.value)return null;var e=this.props.value;return null==e&&(e=this.state.gunData[this.props.gunProperty]),Object(R.jsx)(et.a,Object(j.a)(Object(j.a)({ref:this.inputRef,onFocus:function(){return t.setState({focusToggle:!t.state.focusToggle})},onBlur:function(e){console.log(e.target),t.props.gun.get(t.props.gunProperty).put(e.target.value)}},this.props),{},{value:this.currentlyFocused()?null:e,onKeyUp:function(t){"Enter"===t.key&&t.target.blur()}}))}}]),n}(k),at=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).rootGunBase=t.gunBase,a.deleteMe=a.deleteMe.bind(Object(v.a)(a)),a}return Object(p.a)(n,[{key:"deleteMe",value:function(){this.props.gun.put(null)}},{key:"render",value:function(){return this.props.data?Object(R.jsx)(w.b,{rowSpan:2,colSpan:1,children:Object(R.jsx)(_,{onClose:this.deleteMe,onMoveUp:this.props.onMoveUp,onMoveDown:this.props.onMoveDown,bg:"none",position:"relative",children:Object(R.jsx)(D.a,{p:3,w:"100%",h:"100%",pb:7,children:Object(R.jsx)(nt,{resize:"none",w:"100%",h:"100%",gun:this.props.gun,gunProperty:"title",sync:!1,value:this.props.data.title})})})}):null}}]),n}(i.a.Component);var it={createPanel:function(t){var e=f(),n={type:"miro-hide",title:"New Miro Hide Controls Effect",key:e,deleted:!1,timestamp:Date.now()};t.get("ui").get(e).put(n,console.log)},activateEffect:function(t,e){t.get("activefx").get("activefx"+e.key).put({type:"miro-hide",startTime:Date.now(),key:e.key,deleted:!1,title:e.title,timestamp:Date.now()})},stopEffect:function(t){t.get("deleted").put(!0),t.put(null)}},st=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={active:!1},a.activate=a.activate.bind(Object(v.a)(a)),a.deleteMe=a.deleteMe.bind(Object(v.a)(a)),a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.setState({active:window.currentActiveEffects[this.props.data.key]})}},{key:"activate",value:function(){it.activateEffect(this.props.gunBase,this.props.data)}},{key:"deleteMe",value:function(){this.props.gun.put(null)}},{key:"render",value:function(){var t=this;return window.currentActivePanels[this.props.data.key]=null,this.props.data?(window.currentActivePanels[this.props.data.key]=this,Object(R.jsxs)(_,{onClose:this.deleteMe,bg:"green.50",heading:"Hide Miro Controls:",position:"relative",onMoveUp:this.props.onMoveUp,onMoveDown:this.props.onMoveDown,children:[Object(R.jsx)(D.a,{px:3,pb:10,children:Object(R.jsx)(A,{mb:3,size:"lg",fontSize:"1em",placeholder:"Title",fontWeight:"bold",gun:this.props.gun,gunProperty:"title",sync:!1,value:this.props.data.title})}),Object(R.jsxs)(P.a,{position:"absolute",bottom:"0",variant:"outline",w:"100%",isAttached:"true",children:[Object(R.jsx)(S.a,{borderRadius:"0",onClick:this.activate,width:"100%",children:"Activate"}),this.state.active?Object(R.jsx)(S.a,{borderRadius:"0",borderLeft:"1px",onClick:function(){it.stopEffect(t.props.gunBase.get("activefx").get("activefx"+t.props.data.key))},width:"100%",children:"Deactivate"}):null]})]})):null}}]),n}(i.a.Component),ot=n(205);var rt={createPanel:function(t){var e=f(),n={type:"spacer",title:"New Section",key:e,deleted:!1,timestamp:Date.now()};t.get("ui").get(e).put(n,console.log)}};var ct={createPanel:function(t){var e=f(),n={type:"notes",title:"New Notes",key:e,deleted:!1,timestamp:Date.now()};t.get("ui").get(e).put(n,console.log)}};var ut={createPanel:function(t){var e=f(),n={type:"changebaseurl",title:"New Change Base URL Effect",url:"",key:e,deleted:!1,timestamp:Date.now()};t.get("ui").get(e).put(n,console.log)},activateEffect:function(t,e){t.get("ui").get(e.key),t.get("url").put(e.url)}};var lt=function(t){var e=t.gun;return Object(R.jsx)(_,{p:4,color:"#FFFC",borderColor:"white",heading:"simple stage manager",bg:"#9F7AAFAA",children:Object(R.jsx)(D.a,{p:3,children:Object(R.jsx)(I.a,{children:Object(R.jsxs)(ot.a,{children:[Object(R.jsx)(S.a,{variant:"unstyled",border:"1px",p:"0",children:Object(R.jsx)(ot.b,{w:"100%",h:"100%",p:"4",children:"Create new panel"})}),Object(R.jsxs)(ot.e,{color:"black",children:[Object(R.jsx)(ot.d,{onClick:function(){return y.createPanel(e)},children:"Youtube"}),Object(R.jsx)(ot.d,{onClick:function(){return K.createPanel(e)},children:"URL Overlay"}),Object(R.jsx)(ot.d,{onClick:function(){return ut.createPanel(e)},children:"Change Base URL"}),Object(R.jsx)(ot.c,{}),Object(R.jsx)(ot.d,{onClick:function(){return q.createPanel(e)},children:"Fade"}),Object(R.jsx)(ot.d,{onClick:function(){return Z.createPanel(e)},children:"Shake"}),Object(R.jsx)(ot.d,{onClick:function(){return it.createPanel(e)},children:"Hide Miro Controls"}),Object(R.jsx)(ot.c,{}),Object(R.jsx)(ot.d,{onClick:function(){return rt.createPanel(e)},children:"Panel Spacer"}),Object(R.jsx)(ot.d,{onClick:function(){return ct.createPanel(e)},children:"Notes"})]})]})})})})},pt=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).rootGunBase=t.gunBase,a.deleteMe=a.deleteMe.bind(Object(v.a)(a)),a}return Object(p.a)(n,[{key:"deleteMe",value:function(){this.props.gun.put(null)}},{key:"render",value:function(){return this.props.data?Object(R.jsx)(w.b,{rowSpan:1,colSpan:{base:1,sm:1,md:2,lg:3,xl:4},children:Object(R.jsx)(_,{onClose:this.deleteMe,onMoveUp:this.props.onMoveUp,onMoveDown:this.props.onMoveDown,bg:"none",position:"relative",children:Object(R.jsx)(D.a,{p:3,children:Object(R.jsx)(A,{mb:3,size:"lg",fontSize:"1em",placeholder:"Title",fontWeight:"bold",gun:this.props.gun,gunProperty:"title",sync:!1,value:this.props.data.title})})})}):null}}]),n}(i.a.Component),ht=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={active:!1},a.activate=a.activate.bind(Object(v.a)(a)),a.deleteMe=a.deleteMe.bind(Object(v.a)(a)),a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.setState({active:window.currentActiveEffects[this.props.data.key]})}},{key:"activate",value:function(){ut.activateEffect(this.props.gunBase,this.props.data)}},{key:"deleteMe",value:function(){this.props.gun.put(null)}},{key:"render",value:function(){return window.currentActivePanels[this.props.data.key]=null,this.props.data?(window.currentActivePanels[this.props.data.key]=this,Object(R.jsx)(w.b,{rowSpan:1,colSpan:1,children:Object(R.jsxs)(_,{onClose:this.deleteMe,bg:"purple.50",heading:"Change Base URL:",position:"relative",pb:"10",onMoveUp:this.props.onMoveUp,onMoveDown:this.props.onMoveDown,children:[Object(R.jsxs)(D.a,{px:3,pb:2,children:[Object(R.jsx)(A,{mb:3,size:"lg",fontSize:"1em",overflow:"wrap",placeholder:"Title",fontWeight:"bold",gun:this.props.gun,gunProperty:"title",sync:!1,value:this.props.data.title}),Object(R.jsx)(M.b,{spacing:3.5,align:"stretch",children:Object(R.jsxs)(D.a,{children:[Object(R.jsx)(C.a,{size:"xs",children:"Overlay URL"}),Object(R.jsx)(A,{title:"url",size:"xs",gun:this.props.gun,gunProperty:"url",sync:!1,value:this.props.data.url})]})})]}),Object(R.jsx)(P.a,{position:"absolute",bottom:"0",variant:"outline",w:"100%",isAttached:"true",children:Object(R.jsx)(S.a,{borderRadius:"0",onClick:this.activate,width:"100%",children:"Activate"})})]})})):null}}]),n}(i.a.Component),dt=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidUpdate",value:function(){window.unusedUiIds=[],Object(b.map)(this.state.gunData,(function(t,e){(null==t||t.deleted)&&window.unusedUiIds.push(e)}))}},{key:"render",value:function(){var t=this,e=Object(b.sortBy)(this.state.gunData,(function(t){return(null===t||void 0===t?void 0:t.timestamp)?-t.timestamp:null}));return Object(R.jsxs)(D.a,{bg:"none",h:"100vh",position:"relative",children:[Object(R.jsx)(F.a,{fontSize:"5em",color:"#FFF9",position:"absolute",bottom:"3",right:"6",textAlign:"right",children:"control panels"}),Object(R.jsx)(D.a,{w:"100%",h:"100%",p:5,overflowY:"scroll",children:Object(R.jsxs)(w.a,{templateColumns:{base:"repeat(1, 1fr)",sm:"repeat(1, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)"},gap:4,children:[Object(R.jsx)(lt,{gun:this.props.gunBase}),Object(b.map)(e,(function(n,a){if(null!==n&&!0!==n.deleted){var i=n.key,s={key:i,gun:t.gunBase.get(i),gunBase:t.props.gunBase,data:n};switch(a>0&&(s.onMoveUp=function(){t.gunBase.get(i).get("timestamp").put(e[a-1].timestamp),t.gunBase.get(e[a-1].key).get("timestamp").put(n.timestamp)}),a<e.length-1&&(s.onMoveDown=function(){t.gunBase.get(i).get("timestamp").put(e[a+1].timestamp),t.gunBase.get(e[a+1].key).get("timestamp").put(n.timestamp)}),n.type){case"youtube":return Object(R.jsx)(Y,Object(j.a)({},s));case"overlay":return Object(R.jsx)(X,Object(j.a)({},s));case"fade":return Object(R.jsx)(Q,Object(j.a)({},s));case"shake":return Object(R.jsx)(tt,Object(j.a)({},s));case"miro-hide":return Object(R.jsx)(st,Object(j.a)({},s));case"spacer":return Object(R.jsx)(pt,Object(j.a)({},s));case"notes":return Object(R.jsx)(at,Object(j.a)({},s));case"changebaseurl":return Object(R.jsx)(ht,Object(j.a)({},s))}}}))]})})]})}}]),n}(J),jt=dt,bt=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).stop=a.stop.bind(Object(v.a)(a)),a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=window.currentActivePanels[this.props.data.key];t&&t.setState({active:!0})}},{key:"componentWillUnmount",value:function(){var t=window.currentActivePanels[this.props.data.key];t&&t.setState({active:!1})}},{key:"stop",value:function(){y.stopEffect(this.props.gun)}},{key:"render",value:function(){return this.props.data.stopped?null:Object(R.jsx)(w.b,{rowSpan:2,colSpan:1,children:Object(R.jsxs)(_,{bg:"blue.100",heading:this.props.data.title,pb:"10",children:[Object(R.jsxs)(M.b,{w:"100%",h:"100%",p:"1",children:[Object(R.jsx)(H,{title:"Volume",gun:this.props.gun,gunProperty:"volume",sync:!1,value:this.props.data.volume}),Object(R.jsx)(W,{title:"Hidden",gun:this.props.gun,gunProperty:"hidden",sync:!1,value:this.props.data.hidden})]}),Object(R.jsx)(S.a,{position:"absolute",bottom:"0",variant:"outline",w:"100%",borderRadius:"0",onClick:this.stop,children:"Stop"})]})})}}]),n}(i.a.Component),vt=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).stop=a.stop.bind(Object(v.a)(a)),a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=window.currentActivePanels[this.props.data.key];t&&t.setState({active:!0})}},{key:"componentWillUnmount",value:function(){var t=window.currentActivePanels[this.props.data.key];t&&t.setState({active:!1})}},{key:"stop",value:function(){K.stopEffect(this.props.gun)}},{key:"render",value:function(){return Object(R.jsx)(_,{bg:"red.100",heading:this.props.data.title,pb:"10",children:Object(R.jsx)(S.a,{position:"absolute",bottom:"0",variant:"outline",w:"100%",borderRadius:"0",onClick:this.stop,children:"Deactivate"})})}}]),n}(i.a.Component),gt=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).stop=a.stop.bind(Object(v.a)(a)),a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=window.currentActivePanels[this.props.data.key];t&&t.setState({active:!0})}},{key:"componentWillUnmount",value:function(){var t=window.currentActivePanels[this.props.data.key];t&&t.setState({active:!1})}},{key:"stop",value:function(){q.stopEffect(this.props.gun)}},{key:"render",value:function(){return Object(R.jsx)(_,{bg:"green.100",heading:this.props.data.title,pb:"10",children:Object(R.jsx)(S.a,{position:"absolute",bottom:"0",variant:"outline",w:"100%",borderRadius:"0",onClick:this.stop,children:"Deactivate"})})}}]),n}(i.a.Component),ft=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={},a.state.time=new Date,a.stop=a.stop.bind(Object(v.a)(a)),a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.update=setInterval((function(){t.setState({time:new Date})}),16);var e=window.currentActivePanels[this.props.data.key];e&&e.setState({active:!0})}},{key:"componentWillUnmount",value:function(){clearInterval(this.update);var t=window.currentActivePanels[this.props.data.key];t&&t.setState({active:!1})}},{key:"stop",value:function(){Z.stopEffect(this.props.gun)}},{key:"render",value:function(){if(Date.now()-100>this.props.data.startTime+1e3*this.props.data.duration){var t=window.currentActivePanels[this.props.data.key];return t&&t.setState({active:!1}),null}return Object(R.jsx)(_,{bg:"orange.100",heading:this.props.data.title,pb:"10",children:Object(R.jsx)(S.a,{position:"absolute",bottom:"0",variant:"outline",w:"100%",borderRadius:"0",onClick:this.stop,children:"Deactivate"})})}}]),n}(i.a.Component),Ot=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).stop=a.stop.bind(Object(v.a)(a)),a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=window.currentActivePanels[this.props.data.key];t&&t.setState({active:!0})}},{key:"componentWillUnmount",value:function(){var t=window.currentActivePanels[this.props.data.key];t&&t.setState({active:!1})}},{key:"stop",value:function(){it.stopEffect(this.props.gun)}},{key:"render",value:function(){return Object(R.jsx)(_,{bg:"green.100",heading:this.props.data.title,pb:"10",children:Object(R.jsx)(S.a,{position:"absolute",bottom:"0",variant:"outline",w:"100%",borderRadius:"0",onClick:this.stop,children:"Deactivate"})})}}]),n}(i.a.Component),yt=n(41),xt=n(28),mt=n(207),kt=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){Object(yt.a)(Object(xt.a)(n.prototype),"componentDidMount",this).call(this),this.toast=Object(mt.a)({theme:O})}},{key:"render",value:function(){var t=this;return Object(R.jsx)(_,{bg:"#9F7AAFAA",borderColor:"white",color:"#FFFC",heading:"viewer info: ",w:"100%",h:"100%",children:Object(R.jsxs)(M.b,{p:"3",pt:"0",children:[Object(R.jsxs)(D.a,{w:"100%",onClick:function(e){navigator.clipboard.writeText("https://aaron.work/ssm#/v/"+t.props.roomId),t.toast({title:"URL copied to clipboard",description:"Distribute this URL to users to have them join your experience.",status:"success",duration:9e3,isClosable:!0,position:"top-right"}),e.preventDefault()},children:[Object(R.jsx)(C.a,{children:"Viewer URL:"}),Object(R.jsx)(U.a,{display:"inline-block",overflow:"ellipsis",whiteSpace:"nowrap",size:"xs",bg:"#0005",pointerEvents:"none",value:"https://aaron.work.com/ssm#/v/"+this.props.roomId})]}),Object(R.jsxs)(D.a,{w:"100%",children:[Object(R.jsx)(C.a,{size:"xs",children:"Base URL"}),Object(R.jsx)(A,{title:"url",size:"xs",gun:this.props.gun,gunProperty:"url"})]})]})})}}]),n}(k),wt=Object(c.g)(kt),Dt=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var t=this;return window.currentActiveEffects={},Object(R.jsxs)(D.a,{p:4,w:{base:"200px",xl:"400px"},bg:"#FFF9",position:"relative",h:"100%",children:[Object(R.jsx)(F.a,{fontSize:"3em",color:"#D0C5D0",position:"absolute",bottom:"3",left:"3",verticalAlign:"bottom",children:"active effects"}),Object(R.jsx)(D.a,{h:"100%",overflowY:"scroll",children:Object(R.jsxs)(w.a,{templateColumns:{base:"repeat(1, 1fr)",xl:"repeat(2, 1fr)"},gap:4,children:[Object(R.jsx)(wt,{roomId:this.props.roomId,gun:this.props.gunBase}),Object(b.map)(Object(b.sortBy)(this.state.gunData,(function(t){return(null===t||void 0===t?void 0:t.timestamp)?-t.timestamp:null})),(function(e){if(null!==e&&!0!==e.deleted){window.currentActiveEffects[e.key]=!0;var n="activefx"+e.key,a={key:n,gun:t.gunBase.get(n),data:e};switch(e.type){case"youtube":return Object(R.jsx)(bt,Object(j.a)({},a));case"overlay":return Object(R.jsx)(vt,Object(j.a)({},a));case"fade":return Object(R.jsx)(gt,Object(j.a)({},a));case"shake":return Object(R.jsx)(ft,Object(j.a)({},a));case"miro-hide":return Object(R.jsx)(Ot,Object(j.a)({},a))}return null}}))]})})]})}}]),n}(J),Mt=Dt,Ct=n(203),Pt=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),null==(a=e.call(this,t)).props.match.params.room_id?a.gunBase=t.gun:a.gunBase=t.gun.get(a.props.match.params.room_id),a}return Object(p.a)(n,[{key:"render",value:function(){return Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(D.a,{minW:"100vw",minH:"100vh",bg:"#D0C5D0",children:Object(R.jsxs)(Ct.a,{minH:"100vh",children:[Object(R.jsx)(D.a,{width:"100%",height:"100%",children:Object(R.jsx)(jt,{gun:this.gunBase.get("ui"),gunBase:this.gunBase})}),Object(R.jsx)(M.b,{h:"100vh",spacing:0,children:Object(R.jsx)(Mt,{gun:this.gunBase.get("activefx"),gunBase:this.gunBase,roomId:this.props.match.params.room_id})})]})})})}}]),n}(i.a.Component),St=Object(c.g)(Pt),Ut=n(57),Rt=n.n(Ut),At=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return this.state.gunData?Object(R.jsx)("iframe",{style:{width:"100%",height:"100%",pointerEvents:"auto",zindex:"0"},src:this.state.gunData.url}):null}}]),n}(k),Bt=At,Et=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return Object(b.map)(Object(b.sortBy)(this.state.gunData,(function(t){return null===t||void 0===t?void 0:t.timestamp})),(function(t){if(null!==t&&!0!==t.deleted&&"overlay"==t.type)return Object(R.jsx)("iframe",{style:{width:"100vw",height:"100vh",position:"absolute",top:"0",left:"0",pointerEvents:t.clickthrough?"none":"auto",zindex:t.hidden?-1e4:0},src:t.url})}))}}]),n}(J),Ft=Et,Lt=n(116),zt=n(119),_t=(n(162),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).ytMap={},a.state.videoLoadedToggle=!1,a.state.videoFinished=!1,a}return Object(p.a)(n,[{key:"render",value:function(){var t=this;return Object(R.jsxs)(R.Fragment,{children:[";",Object(b.map)(Object(b.sortBy)(this.state.gunData,(function(t){return null===t||void 0===t?void 0:t.timestamp})),(function(e){if(null!=e&&!0!==e.deleted&&"youtube"==e.type&&!0!==e.stopped&&e.url&&""!=e.url)return null!=t.ytMap[e.key]&&null!=t.ytMap[e.key].h&&t.ytMap[e.key].setVolume(Math.floor(100*e.volume)),Object(R.jsxs)(D.a,{w:"100vw",h:"100vh",position:e.hidden?null:"fixed",top:"0",left:"0",children:[e.hidden||null==t.ytMap[e.key]?null:Object(R.jsx)(D.a,{bg:"black",w:"100%",h:"100%",onClick:function(t){t.preventDefault()}}),t.state.videoFinished?null:Object(R.jsx)(Lt.a,{containerClassName:e.hidden?"bingus":"ytPlayer",opts:{width:"100%",height:"100%",playerVars:{autoplay:1,controls:0}},videoId:Object(zt.a)(e.url).id,onReady:function(n){t.ytMap[e.key]=n.target,t.setState(Object(j.a)(Object(j.a)({},t.gunData),{},{videoFinished:t.state.videoFinished,videoLoadedToggle:!t.state.videoLoadedToggle}))},onStateChange:function(e){0===e.data&&t.setState(Object(j.a)(Object(j.a)({},t.gunData),{},{videoFinished:!0,videoLoadedToggle:!t.state.videoLoadedToggle}))}},e.key)]},"box"+e.key);null!=e&&null!=t.ytMap[e.key]&&(t.ytMap[e.key]=null)}))]})}}]),n}(J)),It=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state.fadeActive=!1,a.state.opacity=0,a.interval=null,a}return Object(p.a)(n,[{key:"calculateOpacity",value:function(){if(this.state){var t=!1;Object(b.map)(this.state.gunData,(function(e){null!==e&&!0!==e.deleted&&"fade"==e.type&&(t=!0)}));var e=((t?1:0)+4*this.state.opacity)/5;this.setState({fadeActive:t,opacity:e,gunData:this.state.gunData})}}},{key:"componentDidMount",value:function(){var t=this;Object(yt.a)(Object(xt.a)(n.prototype),"componentDidMount",this).call(this),setInterval((function(){return t.calculateOpacity()}),30)}},{key:"componentWillUnmount",value:function(){Object(yt.a)(Object(xt.a)(n.prototype),"componentWillUnmount",this).call(this),this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){var t=this;return Object(R.jsx)(D.a,{w:"100vw",h:"100vh",opacity:this.state.opacity,style:{background:"#000"},position:"absolute",left:"0",top:"0",zIndex:"100",pointerEvents:this.state.fadeActive?"auto":"none",onClick:function(e){return t.state.fadeActive?e.preventDefault():null}})}}]),n}(J),Tt=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state.shake=0,a.interval=null,a}return Object(p.a)(n,[{key:"calculateShake",value:function(){if(this.state){var t=0;Object(b.map)(this.state.gunData,(function(e){if(null!==e&&!0!==e.deleted&&"shake"==e.type&&null!=e.duration&&null!=e.strength&&null!=e.timestamp){var n=e.duration,a=(n-Math.min(n,Math.max(0,(Date.now()-e.timestamp+300)/1e3)))/n*e.strength;t+=a}})),this.setState({shake:t,gunData:this.state.gunData})}}},{key:"componentDidMount",value:function(){var t=this;Object(yt.a)(Object(xt.a)(n.prototype),"componentDidMount",this).call(this),setInterval((function(){return t.calculateShake()}),30)}},{key:"componentWillUnmount",value:function(){Object(yt.a)(Object(xt.a)(n.prototype),"componentWillUnmount",this).call(this),this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){var t=Math.random()*Math.PI*2;return Object(R.jsx)(D.a,{width:"100%",height:"100%",overflow:"hidden",children:Object(R.jsx)(D.a,{width:"100%",height:"100%",transform:"auto",rotate:(t-Math.PI)*Math.min(10,this.state.shake)/10,translateX:Math.cos(t)*this.state.shake+"px",translateY:Math.sin(t)*this.state.shake+"px",children:this.props.children})})}}]),n}(J),Wt=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state.shake=0,a.interval=null,a}return Object(p.a)(n,[{key:"calculateShake",value:function(){if(this.state){this.setState({shake:0,gunData:this.state.gunData})}}},{key:"componentDidMount",value:function(){var t=this;Object(yt.a)(Object(xt.a)(n.prototype),"componentDidMount",this).call(this),setInterval((function(){return t.calculateShake()}),30)}},{key:"componentWillUnmount",value:function(){Object(yt.a)(Object(xt.a)(n.prototype),"componentWillUnmount",this).call(this),this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){var t=!1;return Object(b.map)(this.state.gunData,(function(e){null!==e&&!0!==e.deleted&&"miro-hide"==e.type&&(t=!0)})),Object(R.jsx)(D.a,Object(j.a)(Object(j.a)({},t?{position:"absolute",width:"210vw",height:"130vh",top:"-30vh",left:"-50vw"}:{position:"absolute",width:"100vw",height:"100vh",top:"0",left:"0"}),{},{children:this.props.children}))}}]),n}(J),Nt=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).roomId=a.props.match.params.room_id,null==a.roomId?a.gunBase=t.gun:a.gunBase=t.gun.get(a.roomId),a.state={overlayDismissed:!1},a}return Object(p.a)(n,[{key:"render",value:function(){var t=this;return Object(R.jsxs)(R.Fragment,{children:[this.state.overlayDismissed?null:Object(R.jsx)(D.a,{bg:"black",color:"white",zIndex:"1000",position:"absolute",top:"0",left:"0",width:"100vw",height:"100vh",onClick:function(){t.setState({overlayDismissed:!0})},children:Object(R.jsx)(I.a,{width:"100vw",height:"100vh",children:Object(R.jsx)(F.a,{children:"click to begin"})})}),Object(R.jsx)(Tt,{gun:this.gunBase.get("activefx"),children:Object(R.jsxs)(D.a,{w:"100vw",h:"100vh",children:[Object(R.jsx)(Wt,{gun:this.gunBase.get("activefx"),children:Object(R.jsx)(Bt,{gun:this.gunBase})}),this.state.overlayDismissed?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(Ft,{gun:this.gunBase.get("activefx")}),Object(R.jsx)(_t,{gun:this.gunBase.get("activefx")}),Object(R.jsx)(It,{gun:this.gunBase.get("activefx")})]}):null]})})]})}}]),n}(i.a.Component),Ht=Object(c.g)(Nt),Yt=n(120),Vt=n.n(Yt);var Gt=function(t){var e=Object(a.useRef)(null),n=Object(a.useRef)(null),i=Object(c.f)();return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(Vt.a,{size:"100px",bannerColor:"#0008",href:"https://github.com/aaronsantiago/simple_stage_manager"}),Object(R.jsx)(D.a,{minW:"100vw",minH:"100vh",bg:"#D0C5D0",children:Object(R.jsx)(I.a,{width:"100vw",height:"100vh",children:Object(R.jsx)(D.a,{w:"300px",minH:"300px",bg:"gray.100",position:"relative",children:Object(R.jsxs)(_,{heading:"simple stage manager",children:[Object(R.jsxs)(M.b,{p:"5",pb:"2",children:[Object(R.jsxs)(D.a,{children:[Object(R.jsx)(C.a,{mb:"3",children:"Enter an instance ID below, or leave it blank to generate a random one."}),Object(R.jsx)(U.a,{ref:e,placeholder:"Instance ID"})]}),Object(R.jsxs)(D.a,{children:[Object(R.jsx)(C.a,{my:"3",children:"Enter the base URL for the experience below. You can also set this later in the top right corner of the Manager screen."}),Object(R.jsx)(U.a,{mb:"3",ref:n,placeholder:"Base URL"})]}),Object(R.jsx)(C.a,{children:"Remember to copy the viewer URL and send it to your audience!"})]}),Object(R.jsx)(D.a,{h:"10",children:Object(R.jsx)(S.a,{position:"absolute",bottom:"0",variant:"outline",w:"100%",borderRadius:"0",onClick:function(){var a=e.current.value,s=n.current.value;""==a&&(a="xxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))),""!=s&&t.gun.get(a).put({url:s}),i.push("/manager/"+a)},mt:"10",bg:"white",children:"Let's get started!"})})]})})})})]})},Jt=(n(91),n(104)),Kt=(n(166),n(167),n(168),Rt()({peers:["https://gun-manhattan.herokuapp.com/gun"],radisk:Jt||!1,localStorage:!1}).get("simple_stage_manager_2"));window.unusedUiIds=[],window.currentActiveEffects={},window.currentActivePanels={};var Xt=function(){return Object(R.jsx)(r.a,{children:Object(R.jsx)(u.a,{theme:O,children:Object(R.jsx)("div",{children:Object(R.jsxs)(c.c,{children:[Object(R.jsx)(c.a,{path:"/manager/:room_id",children:Object(R.jsx)(St,{gun:Kt})}),Object(R.jsx)(c.a,{path:"/manager",children:Object(R.jsx)(St,{gun:Kt})}),Object(R.jsx)(c.a,{path:"/v/:room_id",children:Object(R.jsx)(Ht,{gun:Kt})}),Object(R.jsx)(c.a,{path:"/",children:Object(R.jsx)(Gt,{gun:Kt})})]})})})})},qt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,212)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,s=e.getLCP,o=e.getTTFB;n(t),a(t),i(t),s(t),o(t)}))};o.a.render(Object(R.jsx)(i.a.StrictMode,{children:Object(R.jsx)(Xt,{})}),document.getElementById("root")),qt()}},[[169,1,2]]]);
//# sourceMappingURL=main.b6d661cc.chunk.js.map