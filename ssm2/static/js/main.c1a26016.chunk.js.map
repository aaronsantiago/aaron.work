{"version":3,"sources":["../node_modules/gun sync","logo.svg","utils/utils.js","utils/Youtube.js","components/base/ReactGun.jsx","components/base/GunInput.jsx","components/base/Panel.jsx","components/base/GunCheckbox.jsx","components/base/GunSlider.jsx","components/panels/YoutubePanel.jsx","components/base/ReactGunMap.jsx","utils/URLOverlay.js","components/panels/URLOverlayPanel.jsx","utils/Fade.js","components/panels/FadePanel.jsx","utils/Shake.js","components/base/GunNumberInput.jsx","components/panels/ShakePanel.jsx","components/base/GunTextArea.jsx","components/panels/NotesPanel.jsx","utils/HideMiroControls.js","components/panels/HideMiroControlsPanel.jsx","utils/Spacer.js","utils/Notes.js","utils/ChangeBaseURL.js","components/SimpleStageManager.jsx","components/panels/SpacerPanel.jsx","components/panels/ChangeBaseURLPanel.jsx","components/UIPanels.jsx","components/effects/YoutubeEffect.jsx","components/effects/URLOverlayEffect.jsx","components/effects/FadeEffect.jsx","components/effects/ShakeEffect.jsx","components/effects/HideMiroControlsEffect.jsx","components/ViewerInfo.jsx","components/ActiveEffects.jsx","pages/Manager.jsx","components/ViewerIFrame.jsx","components/viewerEffects/ViewerOverlayEffect.jsx","components/viewerEffects/ViewerYoutubeEffect.jsx","components/viewerEffects/ViewerFadeEffect.jsx","components/viewerEffects/ViewerShakeEffect.jsx","components/viewerEffects/ViewerHideMiroControls.jsx","pages/Viewer.jsx","pages/Home.jsx","App.js","reportWebVitals.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","uiId","replace","c","r","Math","random","toString","window","unusedUiIds","length","pop","chakraTheme","extendTheme","colors","gray","radii","none","sm","base","md","lg","xl","full","components","Button","variants","outline","borderLeft","borderRight","borderBottom","backgroundColor","Youtube","createPanel","gun","data","type","title","url","hidden","key","deleted","volume","timestamp","Date","now","get","put","console","log","activateEffect","uiRef","stopped","startTime","stopEffect","syncCount","ReactGun","props","sync","gunBase","state","gunData","_gunListener","_unmounted","this","on","property","_","__","ev","JSON","stringify","off","setState","React","Component","GunInput","undefined","focusToggle","inputRef","createRef","inputCache","document","activeElement","current","value","gunProperty","textOverflow","ref","onFocus","onBlur","target","currentlyFocused","onKeyUp","event","blur","Panel","position","shadow","borderWidth","height","onClose","top","right","onClick","onMoveUp","variant","size","icon","ChevronUp","onMoveDown","ChevronDown","p","as","heading","children","GunCheckbox","test","w","px","spacing","align","isChecked","onChange","checked","GunSlider","sliderRef","throttledGunUpdate","throttle","parseFloat","min","max","step","focusThumbOnChange","bg","YoutubePanel","active","play","bind","deleteMe","currentActiveEffects","currentActivePanels","rowSpan","colSpan","pb","mb","fontSize","overflow","placeholder","fontWeight","bottom","isAttached","borderRadius","width","ReactGunMap","_gunCache","extraState","map","URLOverlay","clickthrough","URLOverlayPanel","activate","Fade","FadePanel","duration","strength","GunNumberInput","selectionStart","selectionEnd","cursor","textAlign","isNaN","ShakePanel","Shake","GunTextArea","NotesPanel","rootGunBase","h","resize","HideMiroControls","HideMiroControlsPanel","Spacer","Notes","ChangeBaseURL","SimpleStageManager","color","borderColor","border","SpacerPanel","ChangeBaseURLPanel","UIPanels","el","push","sortedData","sortBy","o","overflowY","templateColumns","gap","i","defaultProps","YoutubeEffect","stop","panel","URLOverlayEffect","FadeEffect","ShakeEffect","time","update","setInterval","clearInterval","HideMiroControlsEffect","ViewerInfo","toast","createStandaloneToast","theme","pt","navigator","clipboard","writeText","roomId","description","status","isClosable","preventDefault","display","whiteSpace","pointerEvents","withRouter","ActiveEffects","left","verticalAlign","Manager","match","params","room_id","minW","minH","ViewerIFrame","style","zindex","src","ViewerOverlayEffect","ViewerYoutubeEffect","ytMap","videoLoadedToggle","videoFinished","setVolume","floor","containerClassName","opts","playerVars","autoplay","controls","videoId","getVideoId","onReady","onStateChange","ViewerFadeEffect","fadeActive","opacity","interval","newOpacity","calculateOpacity","background","zIndex","ViewerShakeEffect","shake","shakeAmount","d","s","calculateShake","angle","PI","transform","rotate","translateX","cos","translateY","sin","ViewerHideMiroControlsEffect","controlsHidden","Viewer","overlayDismissed","ViewerHideMiroControls","Home","instanceInput","useRef","urlInput","history","useHistory","bannerColor","href","my","instance","mt","radisk","require","Gun","peers","localStorage","App","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c1a26016.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 150;","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import { extendTheme } from \"@chakra-ui/react\";\n\nfunction shortUuid() {\n  return \"xxxxxxxx\".replace(/[xy]/g, function (c) {\n    var r = (Math.random() * 16) | 0,\n      v = c == \"x\" ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\nfunction uuidv4() {\n  return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n    var r = (Math.random() * 16) | 0,\n      v = c == \"x\" ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\nfunction uiId() {\n  let id = uuidv4();\n  if (window.unusedUiIds.length > 0) {\n    id = window.unusedUiIds.pop();\n  }\n  return id;\n}\n\nconst chakraTheme = extendTheme({\n  colors: {\n    gray: {\n      200: \"#111\",\n    },\n  },\n  radii: {\n    none: \"0\",\n    sm: \"0\",\n    base: \"0\",\n    md: \"0\",\n    lg: \"0\",\n    xl: \"0\",\n    \"2xl\": \"0\",\n    \"3xl\": \"0\",\n    full: \"9999px\",\n  },\n  components: {\n    Button: {\n      variants: {\n        outline: {\n          borderLeft: 0,\n          borderRight: 0,\n          borderBottom: 0,\n          backgroundColor: \"#FFF7\",\n        },\n      },\n    },\n  },\n});\n\nexport { uuidv4, uiId, shortUuid, chakraTheme };\n","import { uiId } from \"./utils\";\n\nfunction createPanel(gun) {\n  let id = uiId();\n  let data = {\n    type: \"youtube\",\n    title: \"New Youtube Effect\",\n    url: \"\",\n    hidden: true,\n    key: id,\n    deleted: false,\n    volume: 1,\n    timestamp: Date.now(),\n  };\n  gun.get(\"ui\").get(id).put(data, console.log);\n}\n\nfunction activateEffect(gun, data) {\n  let uiRef = gun.get(\"ui\").get(data.key);\n  gun\n    .get(\"activefx\")\n    .get(\"activefx\" + data.key)\n    .put({\n      type: \"youtube\",\n      stopped: false,\n      startTime: Date.now(),\n      key: data.key,\n      uiRef: uiRef,\n      deleted: false,\n      title: data.title,\n      url: data.url,\n      hidden: data.hidden,\n      volume: data.volume,\n      timestamp: Date.now(),\n  });\n}\n\nfunction stopEffect(gun) {\n  gun\n    .get(\"stopped\")\n    .put(true);\n  gun.put(null);\n}\n\nlet Youtube = {\n  createPanel,\n  activateEffect,\n  stopEffect,\n};\n\nexport default Youtube;\n","import React from \"react\";\nlet syncCount = 0;\nclass ReactGun extends React.Component {\n  constructor(props, sync=true) {\n    super(props);\n    this.gunBase = props.gun;\n    this.state = { gunData: {} };\n    this._gunListener = null;\n    this._unmounted = false;\n    this.sync = sync;\n  }\n\n  componentDidMount() {\n    if (!this.sync) return;\n    this.gunBase.on((property, _, __, ev) => {\n      console.log(Date.now() + \" gun sync \" + syncCount++ + \" \" + JSON.stringify(property));\n      this._gunListener = ev;\n      if (this._unmounted) {\n        this._gunListener.off();\n      }\n      else {\n        this.setState({\n          ...this.state,\n          gunData: property,\n        });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    if (!this.sync) return;\n    this._unmounted = true;\n    this._gunListener?.off();\n  }\n}\n\nexport default ReactGun;\n","import React from \"react\";\nimport { Input } from \"@chakra-ui/react\";\nimport ReactGun from \"./ReactGun\";\n\nclass GunInput extends ReactGun {\n  constructor(props) {\n    super(props, props.sync == undefined ? true : props.sync);\n    this.state.focusToggle = false;\n    this.inputRef = React.createRef();\n    this.state.inputCache = \"\";\n  }\n\n  currentlyFocused() {\n    return document.activeElement === this.inputRef.current;\n  }\n\n  componentDidUpdate() {\n    // if (this.currentlyFocused())\n    //   this.inputRef.current.selectionStart = this.inputRef.current.selectionEnd =\n    //     this.cursor;\n  }\n\n  render() {\n    if (this.state.gunData == null && this.props.value == null) return null;\n    let value = this.props.value;\n    if (value == null) value = this.state.gunData[this.props.gunProperty];\n    return (\n      <Input\n        textOverflow=\"ellipsis\"\n        ref={this.inputRef}\n        onFocus={() =>\n          this.setState({\n            focusToggle: !this.state.focusToggle,\n          })\n        }\n        onBlur={(e) => {\n          this.props.gun.get(this.props.gunProperty).put(e.target.value);\n        }}\n        {...this.props}\n        value={this.currentlyFocused() ? null : value}\n        onKeyUp={(event) => {\n          if (event.key === \"Enter\") {\n            event.target.blur();\n          }\n        }}\n      />\n    );\n  }\n}\n\nexport default GunInput;\n","import React from \"react\";\nimport { Box, Heading, CloseButton, IconButton } from \"@chakra-ui/react\";\nimport { ChevronUpIcon, ChevronDownIcon } from '@chakra-ui/icons'\n\n\nfunction Panel(props) {\n  return (\n    <Box\n      position=\"relative\"\n      {...props}\n      shadow=\"md\"\n      borderWidth=\"1px\"\n      height=\"100%\"\n    >\n      {props.onClose == null ? null : (\n        <CloseButton\n          position=\"absolute\"\n          top=\"0\"\n          right=\"0\"\n          onClick={props.onClose}\n        />\n      )}\n      {props.onMoveUp == null ? null : (\n        <IconButton\n          variant=\"unstyled\"\n          position=\"absolute\"\n          top=\"0\"\n          right=\"7\"\n          size=\"sm\"\n          onClick={props.onMoveUp}\n          icon={<ChevronUpIcon />} \n        />\n      )}\n      {props.onMoveDown == null ? null : (\n        <IconButton\n          position=\"absolute\"\n          top=\"0\"\n          variant=\"unstyled\"\n          size=\"sm\"\n          right=\"14\"\n          onClick={props.onMoveDown}\n          icon={<ChevronDownIcon />} \n        />\n      )}\n      <Heading p={2} as=\"h5\" size=\"xs\">\n        {props.heading}\n      </Heading>\n      {props.children}\n    </Box>\n  );\n}\n\nexport default Panel;\n","import React from \"react\";\nimport { HStack, Text, Checkbox, Box, Center} from \"@chakra-ui/react\";\nimport ReactGun from \"./ReactGun\";\n\nclass GunCheckbox extends ReactGun {\n  constructor(props) {\n    super(props, props.sync == undefined ? true : props.sync);\n\n    this.state.test = false;\n    this.inputRef = React.createRef();\n  }\n\n  render() {\n    if (this.state.gunData == null && this.props.value == null) return null;\n    let value = this.props.value;\n    if (value == null) value = this.state.gunData[this.props.gunProperty];\n    return (\n      <HStack w=\"100%\" px={2} spacing={0.5}>\n        <Text w=\"100%\">{this.props.title}</Text>\n        <Box align=\"right\">\n          <Center>\n          <Checkbox\n            size=\"lg\" \n            ref={this.inputRef}\n            isChecked={value}\n            onChange={(e) => {\n              this.props.gun\n                .get(this.props.gunProperty)\n                .put(this.inputRef.current.checked);\n            }}\n            \n          ></Checkbox>\n          </Center>\n        </Box>\n      </HStack>\n    );\n  }\n}\n\nexport default GunCheckbox;\n","import React from \"react\";\nimport {\n  Text,\n  VStack,\n  HStack,\n  Slider,\n  SliderTrack,\n  SliderFilledTrack,\n  SliderThumb,\n} from \"@chakra-ui/react\";\nimport ReactGun from \"./ReactGun\";\nimport { throttle } from \"lodash\";\n\nclass GunSlider extends ReactGun {\n  constructor(props) {\n    super(props, props.sync == undefined ? true : props.sync);\n\n    this.state.test = false;\n    this.sliderRef = React.createRef();\n    this.throttledGunUpdate = throttle((e) => {\n      this.props.gun.get(this.props.gunProperty).put(parseFloat(e));\n    }, 50);\n  }\n\n  render() {\n    if (this.state.gunData == null && this.props.value == null) return null;\n    let value = this.props.value;\n    if (value == null) value = this.state.gunData[this.props.gunProperty];\n    return (\n      <VStack px={2} w=\"100%\">\n        <Text w=\"100%\">{this.props.title}</Text>\n        <Slider\n          ref={this.sliderRef}\n          min={0}\n          max={1}\n          step={0.01}\n          value={value}\n          focusThumbOnChange={false}\n          onChange={(e) => {\n            this.sliderRef.current.value = e;\n            this.throttledGunUpdate(e);\n          }}\n        >\n          <SliderTrack bg=\"gray.500\">\n            <SliderFilledTrack/>\n          </SliderTrack>\n          <SliderThumb bg=\"gray.400\" />\n        </Slider>\n      </VStack>\n    );\n  }\n}\n\nexport default GunSlider;\n","import React from \"react\";\nimport Youtube from \"../../utils/Youtube\";\nimport ReactGun from \"../base/ReactGun\";\nimport {\n  Text,\n  Box,\n  Button,\n  StackDivider,\n  VStack,\n  GridItem,\n  ButtonGroup,\n} from \"@chakra-ui/react\";\nimport GunInput from \"../base/GunInput\";\nimport Panel from \"../base/Panel\";\nimport GunCheckbox from \"../base/GunCheckbox\";\nimport GunSlider from \"../base/GunSlider\";\n\nclass YoutubePanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { active: false };\n    this.play = this.play.bind(this);\n    this.deleteMe = this.deleteMe.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({active: window.currentActiveEffects[this.props.data.key]});\n  }\n\n  play() {\n    Youtube.activateEffect(this.props.gunBase, this.props.data);\n  }\n\n  deleteMe() {\n    this.props.gun.put(null);\n  }\n\n  render() {\n    window.currentActivePanels[this.props.data.key] = null;\n    if (!this.props.data) return null;\n    window.currentActivePanels[this.props.data.key] = this;\n    return (\n      <GridItem rowSpan={2} colSpan={1}>\n        <Panel\n          onClose={this.deleteMe}\n          bg=\"blue.50\"\n          heading=\"Youtube:\"\n          position=\"relative\"\n          pb=\"10\"\n          onMoveUp={this.props.onMoveUp}\n          onMoveDown={this.props.onMoveDown}\n        >\n          <Box px={3} pb={2}>\n            <GunInput\n              mb={3}\n              size=\"lg\"\n              fontSize=\"1em\"\n              overflow=\"wrap\"\n              placeholder=\"Title\"\n              fontWeight=\"bold\"\n              gun={this.props.gun}\n              gunProperty=\"title\"\n              sync={false}\n              value={this.props.data.title}\n            />\n            <VStack spacing={3.5} align=\"stretch\">\n              <Box>\n                <Text size=\"xs\">Youtube URL</Text>\n                <GunInput\n                  title=\"url\"\n                  size=\"xs\"\n                  gun={this.props.gun}\n                  gunProperty=\"url\"\n                  sync={false}\n                  value={this.props.data.url}\n                />\n              </Box>\n              <GunCheckbox\n                title=\"Hidden During Play\"\n                gun={this.props.gun}\n                gunProperty=\"hidden\"\n                sync={false}\n                value={this.props.data.hidden}\n              />\n              <GunSlider\n                title=\"Starting Volume\"\n                gun={this.props.gun}\n                gunProperty=\"volume\"\n                sync={false}\n                value={this.props.data.volume}\n              ></GunSlider>\n            </VStack>\n          </Box>\n          <ButtonGroup\n            position=\"absolute\"\n            bottom=\"0\"\n            variant=\"outline\"\n            w=\"100%\"\n            isAttached=\"true\"\n          >\n            <Button borderRadius=\"0\" onClick={this.play} width=\"100%\">\n              Activate\n            </Button>\n            {this.state.active ? (\n              <Button\n                borderRadius=\"0\"\n                borderLeft=\"1px\"\n                onClick={() => {\n                  Youtube.stopEffect(\n                    this.props.gunBase\n                      .get(\"activefx\")\n                      .get(\"activefx\" + this.props.data.key)\n                  );\n                }}\n                width=\"100%\"\n              >\n                Deactivate\n              </Button>\n            ) : null}\n          </ButtonGroup>\n        </Panel>\n      </GridItem>\n    );\n  }\n}\n\nexport default YoutubePanel;\n","import ReactGun from \"./ReactGun\";\nlet syncCount = 0;\nclass ReactGunMap extends ReactGun {\n  constructor(props) {\n    super(props);\n    this._gunCache = {};\n    this.extraState = {};\n    this._gunListener = null;\n    this._unmounted = false;\n  }\n\n  componentDidMount() {\n    this.gunBase.map().on((property, key, __, ev) => {\n      console.log(Date.now() + \" gun map sync \" + syncCount++ + \" \" + key + \" \" + JSON.stringify(property));\n      this._gunListener = ev;\n      if (this._unmounted) {\n        this._gunListener.off();\n      }\n      this._gunCache = {\n        ...(this._gunCache),\n        [key]: property,\n      };\n      this.setState({\n        ...this.state,\n        gunData: this._gunCache,\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    this._unmounted = true;\n    this._gunListener?.off();\n  }\n}\n\nexport default ReactGunMap;\n","import { uiId } from \"./utils\";\n\nfunction createPanel(gun) {\n  let id = uiId();\n  let data = {\n    type: \"overlay\",\n    title: \"New Overlay Effect\",\n    url: \"\",\n    hidden: false,\n    clickthrough: false,\n    key: id,\n    deleted: false,\n    timestamp: Date.now(),\n  };\n  gun.get(\"ui\").get(id).put(data, console.log);\n}\n\nfunction activateEffect(gun, data) {\n  let uiRef = gun.get(\"ui\").get(data.key);\n  gun\n    .get(\"activefx\")\n    .get(\"activefx\" + data.key)\n    .put({\n      type: \"overlay\",\n      key: data.key,\n      uiRef: uiRef,\n      deleted: false,\n      title: data.title,\n      url: data.url,\n      clickthrough: data.clickthrough,\n      hidden: data.hidden,\n      timestamp: Date.now(),\n    });\n}\n\nfunction stopEffect(gun) {\n  gun\n    .get(\"deleted\")\n    .put(true);\n    gun.put(null);\n  }\n\nlet URLOverlay = {\n  createPanel,\n  activateEffect,\n  stopEffect,\n};\n\nexport default URLOverlay;\n","import React from \"react\";\nimport URLOverlay from \"../../utils/URLOverlay\";\nimport ReactGun from \"../base/ReactGun\";\nimport {\n  Text,\n  Box,\n  ButtonGroup,\n  Button,\n  StackDivider,\n  VStack,\n  GridItem,\n} from \"@chakra-ui/react\";\nimport GunInput from \"../base/GunInput\";\nimport Panel from \"../base/Panel\";\nimport GunCheckbox from \"../base/GunCheckbox\";\n\nclass URLOverlayPanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { active: false };\n    this.activate = this.activate.bind(this);\n    this.deleteMe = this.deleteMe.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({active: window.currentActiveEffects[this.props.data.key]});\n  }\n\n  activate() {\n    URLOverlay.activateEffect(this.props.gunBase, this.props.data);\n  }\n\n  deleteMe() {\n    this.props.gun.put(null);\n  }\n\n  render() {\n    window.currentActivePanels[this.props.data.key] = null;\n    if (!this.props.data) return null;\n    window.currentActivePanels[this.props.data.key] = this;\n    return (\n      <GridItem rowSpan={2} colSpan={1}>\n        <Panel\n          onClose={this.deleteMe}\n          bg=\"red.50\"\n          heading=\"URL Overlay:\"\n          position=\"relative\"\n          pb=\"10\"\n          onMoveUp={this.props.onMoveUp}\n          onMoveDown={this.props.onMoveDown}\n        >\n          <Box px={3} pb={2}>\n            <GunInput\n              mb={3}\n              size=\"lg\"\n              fontSize=\"1em\"\n              overflow=\"wrap\"\n              placeholder=\"Title\"\n              fontWeight=\"bold\"\n              gun={this.props.gun}\n              gunProperty=\"title\"\n              sync={false}\n              value={this.props.data.title}\n            />\n            <VStack spacing={3.5} align=\"stretch\">\n              <Box>\n                <Text size=\"xs\">Overlay URL</Text>\n                <GunInput\n                  title=\"url\"\n                  size=\"xs\"\n                  gun={this.props.gun}\n                  gunProperty=\"url\"\n                  sync={false}\n                  value={this.props.data.url}\n                />\n              </Box>\n              <GunCheckbox\n                title=\"Users can click through\"\n                gun={this.props.gun}\n                gunProperty=\"clickthrough\"\n                sync={false}\n                value={this.props.data.clickthrough}\n              />\n              <GunCheckbox\n                title=\"Hidden while activated\"\n                gun={this.props.gun}\n                gunProperty=\"hidden\"\n                sync={false}\n                value={this.props.data.hidden}\n              />\n            </VStack>\n          </Box>\n          <ButtonGroup\n            position=\"absolute\"\n            bottom=\"0\"\n            variant=\"outline\"\n            w=\"100%\"\n            isAttached=\"true\"\n          >\n            <Button borderRadius=\"0\" onClick={this.activate} width=\"100%\">\n              Activate\n            </Button>\n            {this.state.active ? (\n              <Button\n                borderRadius=\"0\"\n                borderLeft=\"1px\"\n                onClick={() => {\n                  URLOverlay.stopEffect(\n                    this.props.gunBase\n                      .get(\"activefx\")\n                      .get(\"activefx\" + this.props.data.key)\n                  );\n                }}\n                width=\"100%\"\n              >\n                Deactivate\n              </Button>\n            ) : null}\n          </ButtonGroup>\n        </Panel>\n      </GridItem>\n    );\n  }\n}\n\nexport default URLOverlayPanel;\n","import { uiId } from \"./utils\";\n\nfunction createPanel(gun) {\n  let id = uiId();\n  let data = {\n    type: \"fade\",\n    title: \"New Fade Effect\",\n    key: id,\n    deleted: false,\n    timestamp: Date.now(),\n  };\n  gun.get(\"ui\").get(id).put(data, console.log);\n}\n\nfunction activateEffect(gun, data) {\n  let uiRef = gun.get(\"ui\").get(data.key);\n  gun\n    .get(\"activefx\")\n    .get(\"activefx\" + data.key)\n    .put({\n      type: \"fade\",\n      key: data.key,\n      deleted: false,\n      title: data.title,\n      timestamp: Date.now(),\n    });\n}\n\nfunction stopEffect(gun) {\n  gun.get(\"deleted\").put(true);\n  gun.put(null);\n}\n\nlet Fade = {\n  createPanel,\n  activateEffect,\n  stopEffect,\n};\n\nexport default Fade;\n","import React from \"react\";\nimport Fade from \"../../utils/Fade\";\nimport ReactGun from \"../base/ReactGun\";\nimport {\n  Box,\n  ButtonGroup,\n  Button,\n} from \"@chakra-ui/react\";\nimport Panel from \"../base/Panel\";\nimport GunInput from \"../base/GunInput\";\n\nclass FadePanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { active: false };\n    this.activate = this.activate.bind(this);\n    this.deleteMe = this.deleteMe.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({active: window.currentActiveEffects[this.props.data.key]});\n  }\n\n  activate() {\n    Fade.activateEffect(this.props.gunBase, this.props.data);\n  }\n\n  deleteMe() {\n    this.props.gun.put(null);\n  }\n\n  render() {\n    window.currentActivePanels[this.props.data.key] = null;\n    if (!this.props.data) return null;\n    window.currentActivePanels[this.props.data.key] = this;\n    return (\n      <Panel\n        onClose={this.deleteMe}\n        onMoveUp={this.props.onMoveUp}\n        onMoveDown={this.props.onMoveDown}\n        bg=\"green.50\"\n        heading=\"Fade Out:\"\n        position=\"relative\"\n      >\n        <Box px={3} pb={10}>\n          <GunInput\n            mb={3}\n            size=\"lg\"\n            fontSize=\"1em\"\n            placeholder=\"Title\"\n            fontWeight=\"bold\"\n            gun={this.props.gun}\n            gunProperty=\"title\"\n            sync={false}\n            value={this.props.data.title}\n          />\n        </Box>\n          <ButtonGroup\n            position=\"absolute\"\n            bottom=\"0\"\n            variant=\"outline\"\n            w=\"100%\"\n            isAttached=\"true\"\n          >\n            <Button borderRadius=\"0\" onClick={this.activate} width=\"100%\">\n              Activate\n            </Button>\n            {this.state.active ? (\n              <Button\n                borderRadius=\"0\"\n                borderLeft=\"1px\"\n                onClick={() => {\n                  Fade.stopEffect(\n                    this.props.gunBase\n                      .get(\"activefx\")\n                      .get(\"activefx\" + this.props.data.key)\n                  );\n                }}\n                width=\"100%\"\n              >\n                Deactivate\n              </Button>\n            ) : null}\n          </ButtonGroup>\n      </Panel>\n    );\n  }\n}\n\nexport default FadePanel;\n","import { uiId } from \"./utils\";\n\nfunction createPanel(gun) {\n  let id = uiId();\n  let data = {\n    type: \"shake\",\n    title: \"New Shake Effect\",\n    key: id,\n    deleted: false,\n    duration: 3,\n    strength: 1,\n    timestamp: Date.now(),\n  };\n  gun.get(\"ui\").get(id).put(data, console.log);\n}\n\nfunction activateEffect(gun, data) {\n  gun\n    .get(\"activefx\")\n    .get(\"activefx\" + data.key)\n    .put({\n      type: \"shake\",\n      startTime: Date.now(),\n      key: data.key,\n      deleted: false,\n      title: data.title,\n      duration: data.duration,\n      strength: data.strength,\n      timestamp: Date.now(),\n    });\n}\n\nfunction stopEffect(gun) {\n  gun.get(\"deleted\").put(true);\n  gun.put(null);\n}\n\nlet Fade = {\n  createPanel,\n  activateEffect,\n  stopEffect,\n};\n\nexport default Fade;\n","import React from \"react\";\nimport { Text, HStack, Input } from \"@chakra-ui/react\";\nimport ReactGun from \"./ReactGun\";\n\nclass GunNumberInput extends ReactGun {\n  constructor(props) {\n    super(props, props.sync == undefined ? true : props.sync);\n\n    this.state.focusToggle = false;\n    this.inputRef = React.createRef();\n    this.state.inputCache = \"\";\n  }\n\n  currentlyFocused() {\n    return document.activeElement === this.inputRef.current;\n  }\n\n  componentDidUpdate() {\n    if (this.currentlyFocused())\n      this.inputRef.current.selectionStart =\n        this.inputRef.current.selectionEnd = this.cursor;\n  }\n\n  render() {\n    if (this.state.gunData == null && this.props.value == null) return null;\n    let value = this.props.value;\n    if (value == null) value = this.state.gunData[this.props.gunProperty];\n    return (\n      <HStack w=\"100%\" px={2} spacing={0.5}>\n        <Text>{this.props.title}</Text>\n        <Input\n          size=\"xs\"\n          value={\n            document.activeElement === this.inputRef.current ? null : value\n          }\n          step={0.2}\n          ref={this.inputRef}\n          textAlign=\"right\"\n          onFocus={() =>\n            this.setState({\n              focusToggle: !this.state.focusToggle,\n            })\n          }\n          onBlur={(e) => {\n            if (!isNaN(parseFloat(e.target.value)))\n              this.props.gun\n                .get(this.props.gunProperty)\n                .put(parseFloat(e.target.value));\n          }}\n          onKeyUp={(event) => {\n            if (event.key === \"Enter\") {\n              event.target.blur();\n            }\n          }}\n        ></Input>\n      </HStack>\n    );\n  }\n}\n\nexport default GunNumberInput;\n","import React from \"react\";\nimport Shake from \"../../utils/Shake\";\nimport ReactGun from \"../base/ReactGun\";\nimport {\n  Box,\n  ButtonGroup,\n  Button,\n  StackDivider,\n  VStack,\n  GridItem,\n} from \"@chakra-ui/react\";\nimport GunInput from \"../base/GunInput\";\nimport Panel from \"../base/Panel\";\nimport GunNumberInput from \"../base/GunNumberInput\";\n\nclass ShakePanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { active: false };\n    this.activate = this.activate.bind(this);\n    this.deleteMe = this.deleteMe.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({active: window.currentActiveEffects[this.props.data.key]});\n  }\n\n  activate() {\n    Shake.activateEffect(this.props.gunBase, this.props.data);\n  }\n\n  deleteMe() {\n    this.props.gun.put(null);\n  }\n\n  render() {\n    window.currentActivePanels[this.props.data.key] = null;\n    if (!this.props.data) return null;\n    window.currentActivePanels[this.props.data.key] = this;\n    return (\n      <GridItem rowSpan={2} colSpan={1}>\n        <Panel\n          onClose={this.deleteMe}\n          bg=\"orange.50\"\n          heading=\"Shake:\"\n          position=\"relative\"\n          pb=\"10\"\n          onMoveUp={this.props.onMoveUp}\n          onMoveDown={this.props.onMoveDown}\n        >\n          <Box px={3} pb={2}>\n            <GunInput\n              mb={3}\n              size=\"lg\"\n              fontSize=\"1em\"\n              placeholder=\"Title\"\n              fontWeight=\"bold\"\n              gun={this.props.gun}\n              gunProperty=\"title\"\n              sync={false}\n              value={this.props.data.title}\n            />\n            <VStack\n              spacing={5}\n              align=\"stretch\"\n            >\n              <GunNumberInput\n                title=\"duration\"\n                gun={this.props.gun}\n                gunProperty=\"duration\"\n                sync={false}\n                value={this.props.data.duration}\n              />\n              <GunNumberInput\n                title=\"strength\"\n                gun={this.props.gun}\n                gunProperty=\"strength\"\n                sync={false}\n                value={this.props.data.strength}\n              />\n            </VStack>\n          </Box>\n          <ButtonGroup\n            position=\"absolute\"\n            bottom=\"0\"\n            variant=\"outline\"\n            w=\"100%\"\n            isAttached=\"true\"\n          >\n            <Button borderRadius=\"0\" onClick={this.activate} width=\"100%\">\n              Activate\n            </Button>\n            {this.state.active ? (\n              <Button\n                borderRadius=\"0\"\n                borderLeft=\"1px\"\n                onClick={() => {\n                  Shake.stopEffect(\n                    this.props.gunBase\n                      .get(\"activefx\")\n                      .get(\"activefx\" + this.props.data.key)\n                  );\n                }}\n                width=\"100%\"\n              >\n                Deactivate\n              </Button>\n            ) : null}\n          </ButtonGroup>\n        </Panel>\n      </GridItem>\n    );\n  }\n}\n\nexport default ShakePanel;\n","import React from \"react\";\nimport { Textarea } from \"@chakra-ui/react\";\nimport ReactGun from \"./ReactGun\";\n\nclass GunTextArea extends ReactGun {\n  constructor(props) {\n    super(props, props.sync == undefined ? true : props.sync);\n    this.state.focusToggle = false;\n    this.inputRef = React.createRef();\n    this.state.inputCache = \"\";\n  }\n\n  currentlyFocused() {\n    return document.activeElement === this.inputRef.current;\n  }\n\n  componentDidUpdate() {\n    // if (this.currentlyFocused())\n    //   this.inputRef.current.selectionStart = this.inputRef.current.selectionEnd =\n    //     this.cursor;\n  }\n\n  render() {\n    if (this.state.gunData == null && this.props.value == null) return null;\n    let value = this.props.value;\n    if (value == null) value = this.state.gunData[this.props.gunProperty];\n    return (\n      <Textarea\n        ref={this.inputRef}\n        onFocus={() =>\n          this.setState({\n            focusToggle: !this.state.focusToggle,\n          })\n        }\n        onBlur={(e) => {\n          console.log(e.target)\n          this.props.gun.get(this.props.gunProperty).put(e.target.value);\n        }}\n        {...this.props}\n        value={this.currentlyFocused() ? null : value}\n        onKeyUp={(event) => {\n          if (event.key === \"Enter\") {\n            event.target.blur();\n          }\n        }}\n      />\n    );\n  }\n}\n\nexport default GunTextArea;\n","import React from \"react\";\nimport { Box, Textarea, GridItem } from \"@chakra-ui/react\";\nimport Panel from \"../base/Panel\";\nimport GunInput from \"../base/GunInput\";\nimport GunTextArea from \"../base/GunTextArea\";\n\nclass NotesPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.rootGunBase = props.gunBase;\n\n    this.deleteMe = this.deleteMe.bind(this);\n  }\n\n  deleteMe() {\n    this.props.gun.put(null);\n  }\n\n  render() {\n    if (!this.props.data) return null;\n    return (\n      <GridItem rowSpan={2} colSpan={1}>\n        <Panel\n          onClose={this.deleteMe}\n          onMoveUp={this.props.onMoveUp}\n          onMoveDown={this.props.onMoveDown}\n          bg=\"none\"\n          position=\"relative\"\n        >\n          <Box p={3}\n              w={\"100%\"}\n              h={\"100%\"} pb={7}>\n            <GunTextArea\n              resize=\"none\"\n              w={\"100%\"}\n              h={\"100%\"}\n              // textOverflow=\"ellipsis\"\n              // placeholder=\"Title\"\n              gun={this.props.gun}\n              gunProperty=\"title\"\n              sync={false}\n              value={this.props.data.title}\n            />\n          </Box>\n        </Panel>\n      </GridItem>\n    );\n  }\n}\n\nexport default NotesPanel;\n","import { uiId } from \"./utils\";\n\nfunction createPanel(gun) {\n  let id = uiId();\n  let data = {\n    type: \"miro-hide\",\n    title: \"New Miro Hide Controls Effect\",\n    key: id,\n    deleted: false,\n    timestamp: Date.now(),\n  };\n  gun.get(\"ui\").get(id).put(data, console.log);\n}\n\nfunction activateEffect(gun, data) {\n  gun\n    .get(\"activefx\")\n    .get(\"activefx\" + data.key)\n    .put({\n      type: \"miro-hide\",\n      startTime: Date.now(),\n      key: data.key,\n      deleted: false,\n      title: data.title,\n      timestamp: Date.now(),\n    });\n}\n\nfunction stopEffect(gun) {\n  gun.get(\"deleted\").put(true);\n  gun.put(null);\n}\n\nlet HideMiroControls = {\n  createPanel,\n  activateEffect,\n  stopEffect,\n};\n\nexport default HideMiroControls;\n","import React from \"react\";\nimport HideMiroControls from \"../../utils/HideMiroControls\";\nimport ReactGun from \"../base/ReactGun\";\nimport { Box, ButtonGroup, Button } from \"@chakra-ui/react\";\nimport Panel from \"../base/Panel\";\nimport GunInput from \"../base/GunInput\";\n\nclass HideMiroControlsPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { active: false };\n\n    this.activate = this.activate.bind(this);\n    this.deleteMe = this.deleteMe.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({active: window.currentActiveEffects[this.props.data.key]});\n  }\n\n  activate() {\n    HideMiroControls.activateEffect(this.props.gunBase, this.props.data);\n  }\n\n  deleteMe() {\n    this.props.gun.put(null);\n  }\n\n  render() {\n    window.currentActivePanels[this.props.data.key] = null;\n    if (!this.props.data) return null;\n    window.currentActivePanels[this.props.data.key] = this;\n    return (\n      <Panel\n        onClose={this.deleteMe}\n        bg=\"green.50\"\n        heading=\"Hide Miro Controls:\"\n        position=\"relative\"\n        onMoveUp={this.props.onMoveUp}\n        onMoveDown={this.props.onMoveDown}\n      >\n        <Box px={3} pb={10}>\n          <GunInput\n            mb={3}\n            size=\"lg\"\n            fontSize=\"1em\"\n            placeholder=\"Title\"\n            fontWeight=\"bold\"\n            gun={this.props.gun}\n            gunProperty=\"title\"\n            sync={false}\n            value={this.props.data.title}\n          />\n        </Box>\n          <ButtonGroup\n            position=\"absolute\"\n            bottom=\"0\"\n            variant=\"outline\"\n            w=\"100%\"\n            isAttached=\"true\"\n          >\n            <Button borderRadius=\"0\" onClick={this.activate} width=\"100%\">\n              Activate\n            </Button>\n            {this.state.active ? (\n              <Button\n                borderRadius=\"0\"\n                borderLeft=\"1px\"\n                onClick={() => {\n                  HideMiroControls.stopEffect(\n                    this.props.gunBase\n                      .get(\"activefx\")\n                      .get(\"activefx\" + this.props.data.key)\n                  );\n                }}\n                width=\"100%\"\n              >\n                Deactivate\n              </Button>\n            ) : null}\n          </ButtonGroup>\n      </Panel>\n    );\n  }\n}\n\nexport default HideMiroControlsPanel;\n","import { uiId } from \"./utils\";\n\nfunction createPanel(gun) {\n  let id = uiId();\n  let data = {\n    type: \"spacer\",\n    title: \"New Section\",\n    key: id,\n    deleted: false,\n    timestamp: Date.now(),\n  };\n  gun.get(\"ui\").get(id).put(data, console.log);\n}\n\nlet Spacer = {\n  createPanel,\n};\n\nexport default Spacer;\n","import { uiId } from \"./utils\";\n\nfunction createPanel(gun) {\n  let id = uiId();\n  let data = {\n    type: \"notes\",\n    title: \"New Notes\",\n    key: id,\n    deleted: false,\n    timestamp: Date.now(),\n  };\n  gun.get(\"ui\").get(id).put(data, console.log);\n}\n\nlet Notes = {\n  createPanel,\n};\n\nexport default Notes;\n","import { uiId } from \"./utils\";\n\nfunction createPanel(gun) {\n  let id = uiId();\n  let data = {\n    type: \"changebaseurl\",\n    title: \"New Change Base URL Effect\",\n    url: \"\",\n    key: id,\n    deleted: false,\n    timestamp: Date.now(),\n  };\n  gun.get(\"ui\").get(id).put(data, console.log);\n}\n\nfunction activateEffect(gun, data) {\n  let uiRef = gun.get(\"ui\").get(data.key);\n  gun\n    .get(\"url\")\n    .put(data.url);\n}\n\nlet ChangeBaseURL = {\n  createPanel,\n  activateEffect,\n};\n\nexport default ChangeBaseURL;\n","import React from \"react\";\nimport Youtube from \"../utils/Youtube\";\nimport URLOverlay from \"../utils/URLOverlay\";\nimport Fade from \"../utils/Fade\";\nimport Shake from \"../utils/Shake\";\nimport HideMiroControls from \"../utils/HideMiroControls\";\nimport Panel from \"./base/Panel\";\nimport {\n  Box,\n  Center,\n  Button,\n  Menu,\n  MenuButton,\n  MenuDivider,\n  MenuList,\n  MenuItem,\n} from \"@chakra-ui/react\";\nimport Spacer from \"../utils/Spacer\";\nimport Notes from \"../utils/Notes\";\nimport ChangeBaseURL from \"../utils/ChangeBaseURL\";\n\nfunction SimpleStageManager({gun}) {\n  return <Panel\n    p={4}\n    color=\"#FFFC\"\n    borderColor=\"white\"\n    heading=\"simple stage manager\"\n    bg=\"#9F7AAFAA\"\n  >\n    <Box p={3}>\n      <Center>\n        <Menu>\n          <Button variant=\"unstyled\" border=\"1px\" p=\"0\">\n            <MenuButton w=\"100%\" h=\"100%\" p=\"4\">\n              Create new panel\n            </MenuButton>\n          </Button>\n          <MenuList color=\"black\">\n            <MenuItem onClick={() => Youtube.createPanel(gun)}>\n              Youtube\n            </MenuItem>\n            <MenuItem onClick={() => URLOverlay.createPanel(gun)}>\n              URL Overlay\n            </MenuItem>\n            <MenuItem onClick={() => ChangeBaseURL.createPanel(gun)}>\n              Change Base URL\n            </MenuItem>\n            <MenuDivider />\n            <MenuItem onClick={() => Fade.createPanel(gun)}>\n              Fade\n            </MenuItem>\n            <MenuItem onClick={() => Shake.createPanel(gun)}>\n              Shake\n            </MenuItem>\n            <MenuItem\n              onClick={() => HideMiroControls.createPanel(gun)}\n            >\n              Hide Miro Controls\n            </MenuItem>\n            <MenuDivider />\n            <MenuItem\n              onClick={() => Spacer.createPanel(gun)}\n            >\n              Panel Spacer\n            </MenuItem>\n            <MenuItem\n              onClick={() => Notes.createPanel(gun)}\n            >\n              Notes\n            </MenuItem>\n          </MenuList>\n        </Menu>\n      </Center>\n    </Box>\n  </Panel>;\n}\n\nexport default SimpleStageManager;","import React from \"react\";\nimport {\n  Box,\n  GridItem,\n} from \"@chakra-ui/react\";\nimport Panel from \"../base/Panel\";\nimport GunInput from \"../base/GunInput\";\n\nclass SpacerPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.rootGunBase = props.gunBase;\n\n    this.deleteMe = this.deleteMe.bind(this);\n  }\n\n  deleteMe() {\n    this.props.gun.put(null);\n  }\n\n  render() {\n    if (!this.props.data) return null;\n    return (\n\n      <GridItem rowSpan={1} colSpan={{\n        base: 1,\n        sm: 1,\n        md: 2,\n        lg: 3,\n        xl: 4,\n      }}>\n      <Panel\n        onClose={this.deleteMe}\n        onMoveUp={this.props.onMoveUp}\n        onMoveDown={this.props.onMoveDown}\n        bg=\"none\"\n        position=\"relative\"\n      >\n        <Box p={3} >\n          <GunInput\n            mb={3}\n            size=\"lg\"\n            fontSize=\"1em\"\n            placeholder=\"Title\"\n            fontWeight=\"bold\"\n            gun={this.props.gun}\n            gunProperty=\"title\"\n            sync={false}\n            value={this.props.data.title}\n          />\n        </Box>\n      </Panel>\n      </GridItem>\n    );\n  }\n}\n\nexport default SpacerPanel;\n","import React from \"react\";\nimport ChangeBaseURL from \"../../utils/ChangeBaseURL\";\nimport ReactGun from \"../base/ReactGun\";\nimport {\n  Text,\n  Box,\n  ButtonGroup,\n  Button,\n  StackDivider,\n  VStack,\n  GridItem,\n} from \"@chakra-ui/react\";\nimport GunInput from \"../base/GunInput\";\nimport Panel from \"../base/Panel\";\nimport GunCheckbox from \"../base/GunCheckbox\";\n\nclass ChangeBaseURLPanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { active: false };\n    this.activate = this.activate.bind(this);\n    this.deleteMe = this.deleteMe.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({active: window.currentActiveEffects[this.props.data.key]});\n  }\n\n  activate() {\n    ChangeBaseURL.activateEffect(this.props.gunBase, this.props.data);\n  }\n\n  deleteMe() {\n    this.props.gun.put(null);\n  }\n\n  render() {\n    window.currentActivePanels[this.props.data.key] = null;\n    if (!this.props.data) return null;\n    window.currentActivePanels[this.props.data.key] = this;\n    return (\n      <GridItem rowSpan={1} colSpan={1}>\n        <Panel\n          onClose={this.deleteMe}\n          bg=\"purple.50\"\n          heading=\"Change Base URL:\"\n          position=\"relative\"\n          pb=\"10\"\n          onMoveUp={this.props.onMoveUp}\n          onMoveDown={this.props.onMoveDown}\n        >\n          <Box px={3} pb={2}>\n            <GunInput\n              mb={3}\n              size=\"lg\"\n              fontSize=\"1em\"\n              overflow=\"wrap\"\n              placeholder=\"Title\"\n              fontWeight=\"bold\"\n              gun={this.props.gun}\n              gunProperty=\"title\"\n              sync={false}\n              value={this.props.data.title}\n            />\n            <VStack spacing={3.5} align=\"stretch\">\n              <Box>\n                <Text size=\"xs\">Overlay URL</Text>\n                <GunInput\n                  title=\"url\"\n                  size=\"xs\"\n                  gun={this.props.gun}\n                  gunProperty=\"url\"\n                  sync={false}\n                  value={this.props.data.url}\n                />\n              </Box>\n            </VStack>\n          </Box>\n          <ButtonGroup\n            position=\"absolute\"\n            bottom=\"0\"\n            variant=\"outline\"\n            w=\"100%\"\n            isAttached=\"true\"\n          >\n            <Button borderRadius=\"0\" onClick={this.activate} width=\"100%\">\n              Activate\n            </Button>\n          </ButtonGroup>\n        </Panel>\n      </GridItem>\n    );\n  }\n}\n\nexport default ChangeBaseURLPanel;\n","import React from \"react\";\nimport { map, sortBy } from \"lodash\";\nimport YoutubePanel from \"./panels/YoutubePanel\";\nimport ReactGunMap from \"./base/ReactGunMap\";\nimport URLOverlayPanel from \"./panels/URLOverlayPanel\";\nimport FadePanel from \"./panels/FadePanel\";\nimport ShakePanel from \"./panels/ShakePanel\";\nimport NotesPanel from \"./panels/NotesPanel\";\nimport HideMiroControlsPanel from \"./panels/HideMiroControlsPanel\";\nimport {\n  Box,\n  Grid,\n  Heading,\n} from \"@chakra-ui/react\";\nimport SimpleStageManager from \"./SimpleStageManager\";\nimport SpacerPanel from \"./panels/SpacerPanel\";\nimport ChangeBaseURLPanel from \"./panels/ChangeBaseURLPanel\";\n\nclass UIPanels extends ReactGunMap {\n\n  componentDidUpdate() {\n    window.unusedUiIds = [];\n    map(this.state.gunData, (el, key) => {\n      if (el == null || el.deleted) {\n        window.unusedUiIds.push(key);\n      }\n    })\n  }\n\n  render() {\n    let sortedData = sortBy(this.state.gunData, (o) => (o?.timestamp ? -o.timestamp : null));\n    return (\n      <Box bg=\"none\" h=\"100vh\" position=\"relative\">\n        <Heading fontSize=\"5em\" color=\"#FFF9\"position=\"absolute\" bottom=\"3\" right=\"6\" textAlign=\"right\">\n          control panels\n        </Heading>\n        <Box w=\"100%\" h=\"100%\" p={5} overflowY=\"scroll\">\n          <Grid\n            templateColumns={{\n              base: \"repeat(1, 1fr)\",\n              sm: \"repeat(1, 1fr)\",\n              md: \"repeat(2, 1fr)\",\n              lg: \"repeat(3, 1fr)\",\n              xl: \"repeat(4, 1fr)\",\n            }}\n            gap={4}\n          >\n            <SimpleStageManager gun={this.props.gunBase}/>\n            {map(\n              sortedData,\n              (el, i) => {\n                if (el === null || el.deleted === true) return;\n                let key = el.key;\n                let defaultProps = {\n                  key: key,\n                  gun: this.gunBase.get(key),\n                  gunBase: this.props.gunBase,\n                  data: el,\n                };\n                if (i > 0) {\n                  defaultProps.onMoveUp = () => {\n                    this.gunBase.get(key).get(\"timestamp\").put(\n                      sortedData[i - 1].timestamp\n                    );\n                    this.gunBase.get(sortedData[i - 1].key).get(\"timestamp\").put(\n                      el.timestamp\n                    );\n                  }\n                }\n                if (i < sortedData.length - 1) {\n                  defaultProps.onMoveDown = () => {\n                    this.gunBase.get(key).get(\"timestamp\").put(\n                      sortedData[i + 1].timestamp\n                    );\n                    this.gunBase.get(sortedData[i + 1].key).get(\"timestamp\").put(\n                      el.timestamp\n                    );\n                  }\n                }\n                switch (el.type) {\n                  case \"youtube\":\n                    return <YoutubePanel {...defaultProps} />;\n                  case \"overlay\":\n                    return <URLOverlayPanel {...defaultProps} />;\n                  case \"fade\":\n                    return <FadePanel {...defaultProps} />;\n                  case \"shake\":\n                    return <ShakePanel {...defaultProps} />;\n                  case \"miro-hide\":\n                    return <HideMiroControlsPanel {...defaultProps} />;\n                  case \"spacer\":\n                    return <SpacerPanel {...defaultProps} />;\n                  case \"notes\":\n                    return <NotesPanel {...defaultProps} />;\n                    case \"changebaseurl\":\n                      return <ChangeBaseURLPanel {...defaultProps} />;\n                }\n                return;\n              }\n            )}\n          </Grid>\n        </Box>\n      </Box>\n    );\n  }\n}\n\nexport default UIPanels;\n","import React from \"react\";\nimport Youtube from \"../../utils/Youtube\";\nimport ReactGun from \"../base/ReactGun\";\nimport Panel from \"../base/Panel\";\nimport { Button, GridItem, VStack } from \"@chakra-ui/react\";\nimport GunSlider from \"../base/GunSlider\";\nimport GunCheckbox from \"../base/GunCheckbox\";\n\nclass YoutubeEffect extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.stop = this.stop.bind(this);\n  }\n  \n  componentDidMount(){\n    let panel = window.currentActivePanels[this.props.data.key];\n    if (panel) {\n      panel.setState({active: true});\n    }\n  }\n  componentWillUnmount(){\n    let panel = window.currentActivePanels[this.props.data.key];\n    if (panel) {\n      panel.setState({active: false});\n    }\n  }\n\n  stop() {\n    Youtube.stopEffect(this.props.gun);\n  }\n\n  render() {\n    if (this.props.data.stopped) return null;\n    return (\n      <GridItem rowSpan={2} colSpan={1}>\n        <Panel bg=\"blue.100\" heading={this.props.data.title} pb=\"10\">\n          <VStack w=\"100%\" h=\"100%\" p=\"1\">\n            <GunSlider\n              title=\"Volume\"\n              gun={this.props.gun}\n              gunProperty=\"volume\"\n              sync={false}\n              value={this.props.data.volume}\n\n            />\n            <GunCheckbox\n              title=\"Hidden\"\n              gun={this.props.gun}\n              gunProperty=\"hidden\"\n              sync={false}\n              value={this.props.data.hidden}\n            />\n          </VStack>\n          <Button\n            position=\"absolute\"\n            bottom=\"0\"\n            variant=\"outline\"\n            w=\"100%\"\n            borderRadius=\"0\"\n            onClick={this.stop}\n          >\n            Stop\n          </Button>\n        </Panel>\n      </GridItem>\n    );\n  }\n}\n\nexport default YoutubeEffect;\n","import React from \"react\";\nimport URLOverlay from \"../../utils/URLOverlay\";\nimport Panel from \"../base/Panel\";\nimport ReactGun from \"../base/ReactGun\";\nimport { Button } from \"@chakra-ui/button\";\n\nclass URLOverlayEffect extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.stop = this.stop.bind(this);\n  }\n  \n  componentDidMount() {\n    let panel = window.currentActivePanels[this.props.data.key];\n    if (panel) {\n      panel.setState({ active: true });\n    }\n  }\n  componentWillUnmount() {\n    let panel = window.currentActivePanels[this.props.data.key];\n    if (panel) {\n      panel.setState({ active: false });\n    }\n  }\n\n  stop() {\n    URLOverlay.stopEffect(this.props.gun);\n  }\n\n  render() {\n    return (\n      <Panel bg=\"red.100\" heading={this.props.data.title} pb=\"10\">\n        <Button\n          position=\"absolute\"\n          bottom=\"0\"\n          variant=\"outline\"\n          w=\"100%\"\n          borderRadius=\"0\"\n          onClick={this.stop}\n        >\n          Deactivate\n        </Button>\n      </Panel>\n    );\n  }\n}\n\nexport default URLOverlayEffect;\n","import React from \"react\";\nimport Fade from \"../../utils/Fade\";\nimport ReactGun from \"../base/ReactGun\";\nimport Panel from \"../base/Panel\";\nimport { Button } from \"@chakra-ui/button\";\n\nclass FadeEffect extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.stop = this.stop.bind(this);\n  }\n  \n  componentDidMount(){\n    let panel = window.currentActivePanels[this.props.data.key];\n    if (panel) {\n      panel.setState({active: true});\n    }\n  }\n  componentWillUnmount(){\n    let panel = window.currentActivePanels[this.props.data.key];\n    if (panel) {\n      panel.setState({active: false});\n    }\n  }\n\n  stop() {\n    Fade.stopEffect(this.props.gun);\n  }\n\n  render() {\n    return (\n      <Panel bg=\"green.100\" heading={this.props.data.title} pb=\"10\">\n        <Button\n          position=\"absolute\"\n          bottom=\"0\"\n          variant=\"outline\"\n          w=\"100%\"\n          borderRadius=\"0\"\n          onClick={this.stop}\n        >\n          Deactivate\n        </Button>\n      </Panel>\n    );\n  }\n}\n\nexport default FadeEffect;\n","import React from \"react\";\nimport Shake from \"../../utils/Shake\";\nimport ReactGun from \"../base/ReactGun\";\nimport { Button } from \"@chakra-ui/react\";\nimport Panel from \"../base/Panel\";\n\nclass ShakeEffect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.state.time = new Date();\n    this.stop = this.stop.bind(this);\n  }\n  \n  componentDidMount() {\n    this.update = setInterval(() => {\n      this.setState({ time: new Date() });\n    }, 16); // every frame (ish)\n    let panel = window.currentActivePanels[this.props.data.key];\n    if (panel) {\n      panel.setState({active: true});\n    }\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.update);\n    let panel = window.currentActivePanels[this.props.data.key];\n    if (panel) {\n      panel.setState({active: false});\n    }\n  }\n\n  stop() {\n    Shake.stopEffect(this.props.gun);\n  }\n\n  render() {\n    // show shake for an extra 100ms\n    if (\n      Date.now() - 100 >\n      this.props.data.startTime + this.props.data.duration * 1000\n    ) {\n      let panel = window.currentActivePanels[this.props.data.key];\n      if (panel) {\n        panel.setState({active: false});\n      }\n      return null;\n    }\n    return (\n      <Panel bg=\"orange.100\" heading={this.props.data.title} pb=\"10\">\n        <Button\n          position=\"absolute\"\n          bottom=\"0\"\n          variant=\"outline\"\n          w=\"100%\"\n          borderRadius=\"0\"\n          onClick={this.stop}\n        >\n          Deactivate\n        </Button>\n      </Panel>\n    );\n  }\n}\n\nexport default ShakeEffect;\n","import React from \"react\";\nimport HideMiroControls from \"../../utils/HideMiroControls\";\nimport ReactGun from \"../base/ReactGun\";\nimport Panel from \"../base/Panel\";\nimport { Button } from \"@chakra-ui/button\";\n\nclass HideMiroControlsEffect extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.stop = this.stop.bind(this);\n  }\n  \n  componentDidMount(){\n    let panel = window.currentActivePanels[this.props.data.key];\n    if (panel) {\n      panel.setState({active: true});\n    }\n  }\n  componentWillUnmount(){\n    let panel = window.currentActivePanels[this.props.data.key];\n    if (panel) {\n      panel.setState({active: false});\n    }\n  }\n\n  stop() {\n    HideMiroControls.stopEffect(this.props.gun);\n  }\n\n  render() {\n    return (\n      <Panel bg=\"green.100\" heading={this.props.data.title} pb=\"10\">\n        <Button\n          position=\"absolute\"\n          bottom=\"0\"\n          variant=\"outline\"\n          w=\"100%\"\n          borderRadius=\"0\"\n          onClick={this.stop}\n        >\n          Deactivate\n        </Button>\n      </Panel>\n    );\n  }\n}\n\nexport default HideMiroControlsEffect;\n","import React from \"react\";\nimport {\n  Text,\n  Box,\n  createStandaloneToast,\n  VStack,\n  HStack,\n  Input,\n} from \"@chakra-ui/react\";\nimport Panel from \"../components/base/Panel\";\nimport ReactGun from \"./base/ReactGun\";\nimport GunInput from \"./base/GunInput\";\nimport { chakraTheme } from \"../utils/utils\";\nimport { withRouter } from \"react-router\";\n\nclass ViewerInfo extends ReactGun {\n  componentDidMount() {\n    super.componentDidMount();\n    this.toast = createStandaloneToast({ theme: chakraTheme });\n  }\n  render() {\n    return (\n      <Panel\n        bg=\"#9F7AAFAA\"\n        borderColor=\"white\"\n        color=\"#FFFC\"\n        heading=\"viewer info: \"\n        w=\"100%\"\n        h=\"100%\"\n      >\n        <VStack p=\"3\" pt=\"0\">\n          <Box\n            w=\"100%\"\n            onClick={(e) => {\n              navigator.clipboard.writeText(\n                \"https://aaron.work/ssm2#/v/\" + this.props.roomId\n              );\n              this.toast({\n                title: \"URL copied to clipboard\",\n                description:\n                  \"Distribute this URL to users to have them join your experience.\",\n                status: \"success\",\n                duration: 9000,\n                isClosable: true,\n                position: \"top-right\",\n              });\n              e.preventDefault();\n            }}\n          >\n            <Text>Viewer URL:</Text>\n            <Input\n              display=\"inline-block\"\n              overflow=\"ellipsis\"\n              whiteSpace=\"nowrap\"\n              size=\"xs\"\n              bg=\"#0005\"\n              pointerEvents=\"none\"\n              value={\"https://digitalstorytellinglab.com/ssm#/v/\" + this.props.roomId}\n            ></Input>\n          </Box>\n          <Box w=\"100%\">\n            <Text size=\"xs\">Base URL</Text>\n            <GunInput\n              title=\"url\"\n              size=\"xs\"\n              gun={this.props.gun}\n              gunProperty=\"url\"\n            />\n          </Box>\n        </VStack>\n      </Panel>\n    );\n  }\n}\n\nexport default withRouter(ViewerInfo);\n","import React from \"react\";\nimport { map, sortBy } from \"lodash\";\nimport ReactGunMap from \"./base/ReactGunMap\";\nimport YoutubeEffect from \"./effects/YoutubeEffect\";\nimport URLOverlayEffect from \"./effects/URLOverlayEffect\";\nimport FadeEffect from \"./effects/FadeEffect\";\nimport ShakeEffect from \"./effects/ShakeEffect\";\nimport HideMiroControlEffect from \"./effects/HideMiroControlsEffect\";\nimport { Box, Heading, Grid } from \"@chakra-ui/react\";\nimport ViewerInfo from \"./ViewerInfo\";\n\nclass ActiveEffects extends ReactGunMap {\n  render() {\n    window.currentActiveEffects = {};\n    return (\n      <Box\n        p={4}\n        w={{\n          base: \"200px\",\n          xl: \"400px\",\n        }}\n        bg=\"#FFF9\"\n        position=\"relative\"\n        h=\"100%\"\n      >\n        <Heading\n          fontSize=\"3em\"\n          color=\"#D0C5D0\"\n          position=\"absolute\"\n          bottom=\"3\"\n          left=\"3\"\n          verticalAlign=\"bottom\"\n        >\n          active effects\n        </Heading>\n        <Box h=\"100%\" overflowY=\"scroll\">\n          <Grid\n            templateColumns={{\n              base: \"repeat(1, 1fr)\",\n              xl: \"repeat(2, 1fr)\",\n              // md: \"repeat(3, 1fr)\",\n              // lg: \"repeat(4, 1fr)\",\n              // xl: \"repeat(5, 1fr)\",\n            }}\n            gap={4}\n          >\n            <ViewerInfo roomId={this.props.roomId} gun={this.props.gunBase} />\n            {map(\n              sortBy(this.state.gunData, (o) =>\n                o?.timestamp ? -o.timestamp : null\n              ),\n              (el) => {\n                if (el === null || el.deleted === true) return;\n                window.currentActiveEffects[el.key] = true;\n                let key = \"activefx\" + el.key;\n                let defaultProps = {\n                  key: key,\n                  gun: this.gunBase.get(key),\n                  data: el,\n                };\n                switch (el.type) {\n                  case \"youtube\":\n                    return <YoutubeEffect {...defaultProps} />;\n                  case \"overlay\":\n                    return <URLOverlayEffect {...defaultProps} />;\n                  case \"fade\":\n                    return <FadeEffect {...defaultProps} />;\n                  case \"shake\":\n                    return <ShakeEffect {...defaultProps} />;\n                  case \"miro-hide\":\n                    return <HideMiroControlEffect {...defaultProps} />;\n                }\n                return null;\n              }\n            )}\n          </Grid>\n        </Box>\n      </Box>\n    );\n  }\n}\n\nexport default ActiveEffects;\n","import React from \"react\";\nimport UIPanels from \"../components/UIPanels\";\nimport ActiveEffects from \"../components/ActiveEffects\";\nimport { Text, Box, Flex, VStack } from \"@chakra-ui/react\";\nimport { withRouter } from \"react-router\";\nimport Panel from \"../components/base/Panel\";\nimport ViewerInfo from \"../components/ViewerInfo\";\n\nclass Manager extends React.Component {\n  constructor(props) {\n    super(props);\n    if (this.props.match.params.room_id == null) {\n      this.gunBase = props.gun;\n    } else {\n      this.gunBase = props.gun.get(this.props.match.params.room_id);\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <Box minW=\"100vw\" minH=\"100vh\" bg=\"#D0C5D0\">\n          <Flex minH=\"100vh\">\n            <Box width=\"100%\" height=\"100%\">\n              <UIPanels\n                gun={this.gunBase.get(\"ui\")}\n                gunBase={this.gunBase}\n              ></UIPanels>\n            </Box>\n            <VStack h=\"100vh\" spacing={0}>\n              <ActiveEffects\n                gun={this.gunBase.get(\"activefx\")}\n                gunBase={this.gunBase}\n                roomId={this.props.match.params.room_id}\n              ></ActiveEffects>\n            </VStack>\n          </Flex>\n        </Box>\n      </>\n    );\n  }\n}\n\nexport default withRouter(Manager);\n","import React from \"react\";\nimport ReactGun from \"./base/ReactGun\";\nimport {\n  Box,\n} from \"@chakra-ui/react\";\n\nclass ViewerIFrame extends ReactGun {\n  render() {\n    if (!this.state.gunData) return null;\n    return (\n      <iframe \n      style={{\n        width:\"100%\",\n        height:\"100%\",\n        pointerEvents:\"auto\",\n        zindex:\"0\",\n      }}\n      src={this.state.gunData.url}/>\n    );\n  }\n}\n\nexport default ViewerIFrame;\n","import React from \"react\";\nimport { map, sortBy } from \"lodash\";\nimport ReactGunMap from \"../base/ReactGunMap\";\n\nclass ViewerOverlayEffect extends ReactGunMap {\n  render() {\n    return map(\n      sortBy(this.state.gunData, (o) => o?.timestamp),\n      (el) => {\n        if (el === null || el.deleted === true || el.type != \"overlay\") return;\n        return (\n          <iframe\n            style={{\n              width: \"100vw\",\n              height: \"100vh\",\n              position: \"absolute\",\n              top: \"0\",\n              left: \"0\",\n              pointerEvents: el.clickthrough ? \"none\" : \"auto\",\n              zindex: el.hidden ? -10000 : 0\n            }}\n            \n            src={el.url}\n          />\n        );\n      }\n    );\n  }\n}\n\nexport default ViewerOverlayEffect;\n","import React from \"react\";\nimport { map, sortBy } from \"lodash\";\nimport ReactGunMap from \"../base/ReactGunMap\";\nimport YouTube from \"react-youtube\";\nimport getVideoId from \"get-video-id\";\nimport { Box } from \"@chakra-ui/layout\";\nimport \"./ViewerYoutubeEffect.css\";\n\nclass ViewerYoutubeEffect extends ReactGunMap {\n  constructor(props) {\n    super(props);\n    this.ytMap = {};\n    this.state.videoLoadedToggle = false;\n    this.state.videoFinished = false;\n  }\n\n  render() {\n    return (\n      <>\n        ;\n        {map(\n          sortBy(this.state.gunData, (o) => o?.timestamp),\n          (data) => {\n            if (\n              data == null ||\n              data.deleted === true ||\n              data.type != \"youtube\" ||\n              data.stopped === true ||\n              !data.url ||\n              data.url == \"\"\n            ) {\n              if (data != null) {\n                if (this.ytMap[data.key] != null) {\n                  this.ytMap[data.key] = null;\n                }\n              }\n              return;\n            }\n\n            if (\n              this.ytMap[data.key] != null &&\n              this.ytMap[data.key].h != null\n            ) {\n              this.ytMap[data.key].setVolume(Math.floor(data.volume * 100));\n            }\n            return (\n              <Box\n                w=\"100vw\"\n                h=\"100vh\"\n                position={data.hidden ? null : \"fixed\"}\n                top=\"0\"\n                left=\"0\"\n                key={\"box\" + data.key}\n              >\n                {data.hidden || this.ytMap[data.key] == null ? null : (\n                  <Box\n                    bg=\"black\"\n                    w=\"100%\"\n                    h=\"100%\"\n                    onClick={(e) => {\n                      e.preventDefault();\n                    }}\n                  ></Box>\n                )}\n                {this.state.videoFinished ? null : (\n                  <YouTube\n                    containerClassName={data.hidden ? \"bingus\" : \"ytPlayer\"}\n                    key={data.key}\n                    opts={{\n                      width: \"100%\",\n                      height: \"100%\",\n                      playerVars: { autoplay: 1, controls: 0 },\n                    }}\n                    videoId={getVideoId(data.url).id}\n                    onReady={(e) => {\n                      this.ytMap[data.key] = e.target;\n                      this.setState({\n                        ...this.gunData,\n                        videoFinished: this.state.videoFinished,\n                        videoLoadedToggle: !this.state.videoLoadedToggle,\n                      });\n                    }}\n                    onStateChange={(e) => {\n                      if (e.data === 0) {\n                        this.setState({\n                          ...this.gunData,\n                          videoFinished: true,\n                          videoLoadedToggle: !this.state.videoLoadedToggle,\n                        });\n                      }\n                    }}\n                  />\n                )}\n              </Box>\n            );\n          }\n        )}\n      </>\n    );\n  }\n}\n\nexport default ViewerYoutubeEffect;\n","import React from \"react\";\nimport { map, sortBy } from \"lodash\";\nimport ReactGunMap from \"../base/ReactGunMap\";\nimport { Box } from \"@chakra-ui/layout\";\n\nclass ViewerFadeEffect extends ReactGunMap {\n  constructor(props) {\n    super(props);\n    this.state.fadeActive = false;\n    this.state.opacity = 0;\n    this.interval = null;\n  }\n\n  calculateOpacity() {\n    if (!this.state) return;\n    let fadeActive = false;\n    map(this.state.gunData, (el) => {\n      if (el === null || el.deleted === true || el.type != \"fade\") return;\n      fadeActive = true;\n    });\n    let newOpacity = ((fadeActive ? 1 : 0) + this.state.opacity * 4) / 5;\n    this.setState({\n      fadeActive: fadeActive,\n      opacity: newOpacity,\n      gunData: this.state.gunData\n    });\n  }\n\n  componentDidMount() {\n    super.componentDidMount();\n    setInterval(() => this.calculateOpacity(), 30);\n  }\n\n  componentWillUnmount() {\n    super.componentWillUnmount();\n    if (this.interval) {\n      clearInterval(this.interval);\n    }\n  }\n\n  render() {\n    return (\n      <Box\n        w=\"100vw\"\n        h=\"100vh\"\n        opacity={this.state.opacity}\n        style={{ background: \"#000\" }}\n        position=\"absolute\"\n        left=\"0\"\n        top=\"0\"\n        zIndex=\"100\"\n        pointerEvents={this.state.fadeActive ? \"auto\" : \"none\"}\n        onClick={(e) => (this.state.fadeActive ? e.preventDefault() : null)}\n      />\n    );\n  }\n}\n\nexport default ViewerFadeEffect;\n","import React from \"react\";\nimport { map, sortBy } from \"lodash\";\nimport ReactGunMap from \"../base/ReactGunMap\";\nimport { Box } from \"@chakra-ui/layout\";\n\nclass ViewerShakeEffect extends ReactGunMap {\n  constructor(props) {\n    super(props);\n    this.state.shake = 0;\n    this.interval = null;\n  }\n\n  calculateShake() {\n    if (!this.state) return;\n    let shakeAmount = 0;\n    map(this.state.gunData, (el) => {\n      if (\n        el === null ||\n        el.deleted === true ||\n        el.type != \"shake\" ||\n        el.duration == null ||\n        el.strength == null ||\n        el.timestamp == null\n      )\n        return;\n      let d = el.duration;\n      // add .3 seconds to compensate for lag\n      let t = Math.min(d,Math.max(0,(Date.now() - el.timestamp  + 300)/1000));\n      let s = (d - t)/d * el.strength;\n      shakeAmount += s;\n    });\n\n    this.setState({\n      shake: shakeAmount,\n      gunData: this.state.gunData\n    });\n  }\n\n  componentDidMount() {\n    super.componentDidMount();\n    setInterval(() => this.calculateShake(), 30);\n  }\n\n  componentWillUnmount() {\n    super.componentWillUnmount();\n    if (this.interval) {\n      clearInterval(this.interval);\n    }\n  }\n\n  render() {\n    let angle = Math.random() * Math.PI * 2;\n    return (\n      <Box width=\"100%\" height=\"100%\" overflow=\"hidden\">\n        <Box\n          width=\"100%\"\n          height=\"100%\"\n          transform=\"auto\"\n          rotate={((angle - Math.PI) * Math.min(10, this.state.shake)) / 10}\n          translateX={Math.cos(angle) * this.state.shake + \"px\"}\n          translateY={Math.sin(angle) * this.state.shake + \"px\"}\n        >\n          {this.props.children}\n        </Box>\n      </Box>\n    );\n  }\n}\n\nexport default ViewerShakeEffect;\n","import React from \"react\";\nimport { map, sortBy } from \"lodash\";\nimport ReactGunMap from \"../base/ReactGunMap\";\nimport { Box } from \"@chakra-ui/layout\";\n\nclass ViewerHideMiroControlsEffect extends ReactGunMap {\n  constructor(props) {\n    super(props);\n    this.state.shake = 0;\n    this.interval = null;\n  }\n\n  calculateShake() {\n    if (!this.state) return;\n    let shakeAmount = 0;\n\n    this.setState({\n      shake: shakeAmount,\n      gunData: this.state.gunData\n    });\n  }\n\n  componentDidMount() {\n    super.componentDidMount();\n    setInterval(() => this.calculateShake(), 30);\n  }\n\n  componentWillUnmount() {\n    super.componentWillUnmount();\n    if (this.interval) {\n      clearInterval(this.interval);\n    }\n  }\n\n  render() {\n    let controlsHidden = false;\n    map(this.state.gunData, (el) => {\n      if (\n        el === null ||\n        el.deleted === true ||\n        el.type != \"miro-hide\"\n      )\n        return;\n      controlsHidden = true;\n    });\n    return (\n      <Box\n        {...(controlsHidden\n          ? {\n              position: \"absolute\",\n              width: \"210vw\",\n              height: \"130vh\",\n              top: \"-30vh\",\n              left: \"-50vw\",\n            }\n          : {\n              position: \"absolute\",\n              width: \"100vw\",\n              height: \"100vh\",\n              top: \"0\",\n              left: \"0\",\n            })}\n      >\n        {this.props.children}\n      </Box>\n    );\n  }\n}\n\nexport default ViewerHideMiroControlsEffect;\n","import React from \"react\";\nimport { Box, Center, Heading } from \"@chakra-ui/react\";\nimport { withRouter } from \"react-router\";\nimport ViewerIFrame from \"../components/ViewerIFrame\";\nimport ViewerOverlayEffect from \"../components/viewerEffects/ViewerOverlayEffect\";\nimport ViewerYoutubeEffect from \"../components/viewerEffects/ViewerYoutubeEffect\";\nimport ViewerFadeEffect from \"../components/viewerEffects/ViewerFadeEffect\";\nimport ViewerShakeEffect from \"../components/viewerEffects/ViewerShakeEffect\";\nimport ViewerHideMiroControlsEffect from \"../components/viewerEffects/ViewerHideMiroControls\";\n\nclass Viewer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.roomId = this.props.match.params.room_id;\n    if (this.roomId == null) {\n      this.gunBase = props.gun;\n    } else {\n      this.gunBase = props.gun.get(this.roomId);\n    }\n    this.state = { overlayDismissed: false };\n  }\n\n  render() {\n    return (\n      <>\n        {this.state.overlayDismissed ? null : (\n          <Box\n            bg=\"black\"\n            color=\"white\"\n            zIndex=\"1000\"\n            position=\"absolute\"\n            top=\"0\"\n            left=\"0\"\n            width=\"100vw\"\n            height=\"100vh\"\n            onClick={() => {\n              this.setState({ overlayDismissed: true });\n            }}\n          >\n            <Center width=\"100vw\" height=\"100vh\">\n              <Heading>click to begin</Heading>\n            </Center>\n          </Box>\n        )}\n        <ViewerShakeEffect gun={this.gunBase.get(\"activefx\")}>\n          <Box w=\"100vw\" h=\"100vh\">\n            <ViewerHideMiroControlsEffect gun={this.gunBase.get(\"activefx\")}>\n              <ViewerIFrame gun={this.gunBase} />\n            </ViewerHideMiroControlsEffect>\n            {!this.state.overlayDismissed ? null : (\n              <>\n                <ViewerOverlayEffect gun={this.gunBase.get(\"activefx\")} />\n                <ViewerYoutubeEffect gun={this.gunBase.get(\"activefx\")} />\n                <ViewerFadeEffect gun={this.gunBase.get(\"activefx\")} />\n              </>\n            )}\n          </Box>\n        </ViewerShakeEffect>\n      </>\n    );\n  }\n}\n\nexport default withRouter(Viewer);\n","import React from \"react\";\nimport {\n  Box,\n  Center,\n  VStack,\n  Text,\n  Input,\n  Button\n} from \"@chakra-ui/react\";\nimport Panel from \"../components/base/Panel\";\nimport { useRef } from \"react\";\nimport { shortUuid, uuidv4 } from \"../utils/utils\";\nimport { useHistory } from \"react-router\";\nimport GithubCorner from 'react-github-corner';\n\nfunction Home(props) {\n  const instanceInput = useRef(null);  \n  const urlInput = useRef(null);  \n  const history = useHistory();\n\n  const goToManagerScreen = () => {\n    let instance = instanceInput.current.value;\n    let url = urlInput.current.value;\n    if (instance == \"\") {\n      instance = shortUuid();\n    }\n    if (url != \"\") {\n      props.gun.get(instance).put({url});\n    }\n    history.push(\"/manager/\" + instance);\n  }\n  return (\n    <>\n      <GithubCorner size=\"100px\" bannerColor=\"#0008\" href=\"https://github.com/aaronsantiago/simple_stage_manager\" />\n      <Box minW=\"100vw\" minH=\"100vh\" bg=\"#D0C5D0\">\n        <Center width=\"100vw\" height=\"100vh\">\n          <Box w=\"300px\" minH=\"300px\" bg=\"gray.100\" position=\"relative\">\n            <Panel heading=\"simple stage manager\">\n              <VStack p=\"5\" pb=\"2\">\n                <Box>\n                  <Text mb=\"3\">\n                    Enter an instance ID below, or leave it blank to generate a\n                    random one.\n                  </Text>\n                  <Input ref={instanceInput} placeholder=\"Instance ID\"></Input>\n                </Box>\n                <Box>\n                  <Text my=\"3\">\n                    Enter the base URL for the experience below. You can also\n                    set this later in the top right corner of the Manager\n                    screen.\n                  </Text>\n                  <Input mb=\"3\" ref={urlInput} placeholder=\"Base URL\"></Input>\n                </Box>\n                <Text >Remember to copy the viewer URL and send it to your audience!</Text>\n              </VStack>\n              <Box h=\"10\">\n                <Button\n                  position=\"absolute\"\n                  bottom=\"0\"\n                  variant=\"outline\"\n                  w=\"100%\"\n                  borderRadius=\"0\"\n                  onClick={goToManagerScreen}\n                  mt=\"10\"\n                  bg=\"white\"\n                >\n                  Let's get started!\n                </Button>\n              </Box>\n            </Panel>\n          </Box>\n        </Center>\n      </Box>\n    </>\n  );\n}\n\nexport default Home;\n","import logo from \"./logo.svg\";\nimport \"./App.css\";\nimport { HashRouter, Switch, Route, Link } from \"react-router-dom\";\nimport { ChakraProvider } from \"@chakra-ui/react\";\nimport Manager from \"./pages/Manager\";\nimport Gun from \"gun/gun\";\nimport { chakraTheme } from \"./utils/utils\";\nimport Viewer from \"./pages/Viewer\";\nimport Home from \"./pages/Home\";\nconst radix = require('gun/lib/radix');\nconst radisk = require('gun/lib/radisk');\nconst store = require('gun/lib/store');\nconst rindexed = require('gun/lib/rindexed');\nconst webrtc = require('gun/lib/webrtc');\n\nvar gun = Gun({\n  peers: [\"https://aarondotwork-gun-server.herokuapp.com/gun\"],\n  radisk: radisk || false,\n  localStorage: false\n});\nlet gunBase = gun.get(\"simple_stage_manager_2\");\n\nwindow.unusedUiIds = [];\nwindow.currentActiveEffects = {};\nwindow.currentActivePanels = {};\n\nfunction App() {\n  return (\n    <HashRouter>\n      <ChakraProvider theme={chakraTheme}>\n        <div>\n          <Switch>\n            <Route path=\"/manager/:room_id\">\n              <Manager gun={gunBase} />\n            </Route>\n            <Route path=\"/manager\">\n              <Manager gun={gunBase} />\n            </Route>\n            <Route path=\"/v/:room_id\">\n              <Viewer gun={gunBase} />\n            </Route>\n            <Route path=\"/\">\n              <Home gun={gunBase} />\n            </Route>\n          </Switch>\n        </div>\n      </ChakraProvider>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}